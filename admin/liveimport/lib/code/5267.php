<?php
/*
LiveImport (c) MaxD, 2017. Write to liveimport@devs.mx for support and purchase.
*/
 goto E875; e194: if ($donor_id == 1) { goto b1bb; } ?>
        <input type="submit" name="save" data-direction="reverse" data-inline="true" data-icon="check" data-theme="b" value="<?php  echo e2("\123\x61\x76\x65"); ?>
"/>
    <?php  goto a0fe; goto c4d5; Ff59: dd66: if (!isset($_POST["\163\x65\164\x74\151\x6e\147\163"])) { goto ea45; } Ec("\151\156\163\x26\151\x64\75\x2d\x31\46\144\x6f\x6e\157\162\137\151\144\x3d{$donor_id}\46\x62\141\x63\153\x3d\x69\x6d\160\157\162\x74\62"); ea45: if (!isset($_POST["\143\150\x61\x6e\x67\145\137\x66\151\x6c\145"])) { goto B28e; } goto B211; E875: $donor_id = @$_GET["\x69\144"]; if ($donor_id) { goto d28c; } $donor_id = 1; d28c: e6($donor_id); goto A2c5; A5d5: ced7: $settings["\x63\157\154\x73"] = $f50; E7($settings); if (!isset($_POST["\x61\x6a\x61\170"])) { goto dd66; } die; goto Ff59; Ee7e: $d43["\44\162\x6f\167\x5f\x6e"] = "\x43\x75\162\162\x65\x6e\164\40\162\x6f\167\40\156\x75\155\x62\x65\x72\x2e"; $d43["\44\x63\145\154\x6c\x73"] = "\x41\162\x72\x61\x79\x20\157\146\40\x61\x6c\154\40\162\x6f\x77\40\x63\x65\154\154\x73\x20\166\141\154\165\145\x73\x2e"; foreach (reset($a7) as $da4 => $B4b) { $d43["\44" . $da4] = "\103\157\x6c\165\x6d\x6e\x20\x3c\x73\164\162\157\x6e\x67\76{$da4}\74\57\x73\x74\162\x6f\x6e\147\76\40\146\162\x6f\x6d\x20\x74\150\x65\x20\x63\165\x72\162\145\x6e\164\x20\x72\x6f\x77\40\157\x66\x20\x3c\x73\164\162\157\156\x67\x3e{$ad0}\74\57\163\x74\162\157\x6e\147\x3e"; d4e4: } E9fb: require f0 . "\x6c\151\x62\x2f\x63\x6f\x64\x65\57\x63\145\62\61\x2e\x70\150\x70"; goto A04d; Fc61: if (!isset($_POST["\x73\x74\x61\162\x74"])) { goto F931; } ef($donor_id); ec("\164\x69\x74\154\x65"); F931: if (!isset($_POST["\143\x72\145\x61\x74\145\x5f\144\x6f\x6e\x6f\x72"])) { goto Da50; } goto a6b8; c4d5: b1bb: ?>
        <input type="submit" name="start" data-direction="reverse" data-inline="true" data-icon="play" data-theme="b" value="<?php  echo e2("\123\x74\141\162\164"); ?>
"/>
        <input type="submit" name="create_donor" data-inline="true" data-icon="calendar" data-theme="d" value="<?php  echo E2("\123\x61\x76\145\x20\146\157\x72\40\x50\145\x72\x69\157\144\x69\x63\40\x49\155\160\x6f\x72\x74"); goto ccb9; b2f1: echo E2("\111\x6d\160\x6f\162\x74\x20\123\x63\x68\x65\x6d\145\40\x66\x6f\162"); ?>
 <font color='grey'><?php  echo $ad0; ?>
</font>
        <span style="font-size:16px; color:green; font-weight: normal">(<?php  echo $settings["\x72\157\167\163"]; goto ad0c; Cf5e: $B0c = !@$_GET["\x75\160\x64\x61\x74\145"]; $D67 = http_if_file_changed($eac, $settings["\x66\x69\154\x65\x6e\141\x6d\x65"], $B0c); if (file_exists($eac)) { goto Aff7; } $settings["\x65\162\162\x6f\x72"] = "\x46\151\x6c\x65\x20\156\157\x74\40\x66\157\x75\x6e\x64\56"; e7($settings); goto A79a; e61a: echo $settings["\x73\153\x69\160"]; ?>
" />
    </span>
    <a class="ui-btn ui-icon-carat-r ui-btn-icon-notext ui-btn-inline ui-mini" style="margin-left: -3px"
       onclick="$('#skip').val($('#skip').val()-1+2); SkipChange()"></a>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<?php  echo e2("\115\141\x74\143\x68\40\145\x78\151\x73\x74\151\156\147\40\x70\x72\x6f\144\x75\x63\164\x73\40\142\x79"); ?>
: &nbsp;
    <span style='width:90px; display:inline-block'>
        <select onchange="data_changed=true" name="match" data-inline='true' data-mini='true'">
            <option value="" ?>(<?php  echo e2("\156\157\x6e\x65"); goto F7d1; C791: $name = if_inside('', "\75", $name); $name = str_replace("\x3d", '', $name); header("\x4c\157\x63\x61\164\151\x6f\156\72\40\150\164\164\160\72\x2f\57\154\x69\166\x65\151\x6d\x70\x6f\x72\164\x2e\x64\145\166\x73\x2e\155\170\x2f\163\145\x72\166\x69\x63\x65\57\160\145\162\x69\157\x64\151\x63\x2e\x70\150\x70\77\156\141\155\x65\x3d" . $name); Da50: f686: goto a399; A79a: EC("\151\155\x70\157\x72\164\x26\x69\x64\x3d" . $donor_id); Aff7: $dea = "\164\x65\x6d\x70\x2f\x69\155\160\157\x72\x74\x5f{$donor_id}" . "\137\160\162\x65\x76\x69\x65\167\x2e\x64\141\x74"; if ($D67 or !file_exists($dea) or filemtime($dea) < filemtime($eac)) { goto F64e; } $a7 = unserialize(file_get_contents($dea)); goto a6ef; eaa4: file_put_contents($dea, serialize($a7)); E7($settings); Fb47: if (!empty($settings["\x73\153\151\x70"])) { goto E920; } $settings["\x73\153\x69\x70"] = 0; goto c4c4; ddb9: ?>
</td>
        <?php  foreach ($a7 as $Ff => $F0) { goto A48e; a8db: echo $Ff; ?>
').removeClass('grey')">
                <a href="<?php  echo C7("\151\x6d\x70\x5f" . $Ff); ?>
" onclick="SaveGo('')" target="_blank" style="text-decoration: none; color: white">
                        <?php  echo e2("\120\162\157\144\165\143\x74"); goto fa15; Fa91: A442: goto ef66; fa15: ?>
 <span class="product_num"><?php  echo $Ff + 1; ?>
</span> <span style="color:#ccc">Click here to test</span>
                </a>
                <span style="display:none; width:100px; color:#ccc"><?php  echo e2("\123\153\151\160\160\x65\x64"); ?>
</span>
            </td>
        <?php  goto Fa91; A48e: ?>
            <td id="product<?php  echo $Ff; ?>
" class="product" onmouseover="$('.row<?php  echo $Ff; ?>
').addClass('grey')"
                onmouseout="$('.row<?php  goto a8db; ef66: } E4b7: ?>
    </tr>
<?php  foreach (reset($a7) as $da4 => $B4b) { goto c0f4; Eb28: foreach ($a7 as $Ff => $F0) { ?>
            <td class="row<?php  echo $Ff; ?>
"><?php  echo shorten_text($F0[$da4], 500); ?>
</td>
        <?php  D343: } f678: ?>
    </tr>
<?php  D777: goto Bfb9; c0f4: ?>
    <tr>
        <td><select onchange="RoleChange(this)" data-mini="true" name="col<?php  echo $da4; ?>
">
                <option value="<?php  echo $da4; ?>
"><?php  goto E179; E179: echo $da4; ?>
</option>
                <?php  foreach ($fb9 as $E69) { goto Ba14; Af56: B484: e9dc: ?>
                    <option value="<?php  echo $E69; ?>
"
                            <?php  goto cd22; ef3b: ?>
</option>
                <?php  Cdb0: goto C1df; Ba14: if (strpos(@$settings["\143\x6f\x6c\163"][$da4], "\72") !== false) { goto E1e3; } if (!(strpos(@$settings["\x63\157\x6c\x73"][$da4], "\100\43") !== false)) { goto C69b; } if (!($E69 == "\x6f\160\164\151\x6f\156")) { goto Ec64; } $E69 = $settings["\143\157\x6c\163"][$da4]; Ec64: goto C54f; C54f: C69b: goto e9dc; E1e3: if (!($E69 == "\141\x74\164\162\x69\x62\x75\x74\x65")) { goto B484; } $E69 = $settings["\143\x6f\x6c\x73"][$da4]; goto Af56; cd22: if (!(@$settings["\143\157\154\x73"][$da4] == $E69)) { goto b666; } echo "\163\x65\154\145\x63\164\x65\144\75\42\164\162\x75\x65\42"; b666: ?>
                        ><?php  echo str_replace("\x40\x23", '', $E69); goto ef3b; C1df: } F7cc: ?>
        </select></td>
        <?php  goto Eb28; Bfb9: } goto d7d1; Fb0c: B7(); ?>
import2&id=<?php  echo $donor_id; ?>
" method="post">

    <?php  if (!($donor_id > 1)) { goto D9c4; } goto e5f5; ccb9: ?>
"/>
    <?php  a0fe: ?>

<script type="text/javascript">

    var data_changed = false;
        group = "";

    function RoleChange(sel) {
        data_changed = true;
        if (sel.selectedIndex == <?php  echo array_search("\x61\164\x74\162\x69\142\x75\x74\x65", $fb9) + 1; ?>
) {
            def = group;
            if (sel.value != 'attribute') def = sel.value;
            name = prompt('Enter attribute name (you can use specify group like "Group:Attr")', def);
            if (name == 'null' || !name) {
                sel.selectedIndex = 0;
                return;
            }
            if (name.indexOf(':')==-1) name = ':' + name;
            group = name.substr(0, name.indexOf(':'));
            if (group) group = group + ':';
            sel.options[sel.selectedIndex].text = name;
            sel.options[sel.selectedIndex].value = name;
        }
        if (sel.selectedIndex == <?php  goto ba8d; bc9a: ?>
"><?php  echo E2("\103\x61\156\143\145\x6c"); ?>
</a>
<input type="submit" name="settings" data-direction="reverse" data-inline="true" data-icon="gear" value="<?php  echo E2("\x54\141\163\153\40\123\145\164\164\x69\156\147\x73"); ?>
"/>
    <?php  goto e194; d7a4: $ad0 = $settings["\x66\151\154\145\156\x61\x6d\x65"]; if (!($B6 = strrpos($ad0, "\x2f"))) { goto Fbdf; } $ad0 = substr($ad0, $B6 + 1); Fbdf: if (!($_SERVER["\x52\105\121\x55\x45\123\x54\137\x4d\105\x54\110\117\104"] == "\x50\117\123\x54")) { goto f686; } goto bf71; a6ef: goto Fb47; F64e: $a7 = load_spreadsheet($eac, 0, 30); if ($a7) { goto a5fe; } $settings["\145\x72\162\157\x72"] = "\111\x6e\x76\x61\x6c\151\x64\x20\146\x69\154\145\x20\x66\x6f\x72\x6d\x61\164\x2e"; goto F035; a399: $fb9 = explode("\40", "\x63\x61\x74\x65\147\x6f\162\x79\40\144\x65\163\143\x72\x69\160\x74\151\x6f\156\40\144\x6f\x77\x6e\x6c\x6f\x61\144\40\145\x61\x6e\x20\x68\145\151\147\x68\x74\40\x69\x6d\x61\x67\145\x20\151\x73\142\x6e\40\x6a\141\x6e\40\x6c\x65\x6e\147\164\x68\40\154\157\x63\141\164\151\x6f\156\40\155\141\x6e\x75\x66\141\143\x74\x75\x72\145\162\x20\155\x65\x74\141\x5f\x64\x65\163\x63\162\151\160\x74\151\157\x6e\40\155\x65\x74\x61\x5f\153\145\x79\x77\157\x72\x64\40\155\157\x64\145\154\x20\155\x70\156\x20\156\x61\x6d\145\40\160\162\x69\x63\x65\x20\156\x65\167\137\x70\162\x69\x63\x65\x20\x70\162\x6f\144\x75\143\x74\137\151\x64\x20\161\x75\x61\156\164\x69\x74\171\40\163\x65\157\137\x75\x72\x6c\x20\x73\x6b\165\40\x74\141\147\x73\40\x75\160\x63\x20\x77\x65\x69\x67\x68\x74\x20\167\151\144\x74\x68\x20\x68\x31\40\x74\x69\x74\154\145\40\x61\164\164\162\151\x62\x75\164\145\40\x6f\x70\x74\x69\x6f\156\40\157\x70\164\151\x6f\156\x5f\x69\x6d\141\x67\145\40\x6f\160\164\x69\x6f\x6e\x5f\x70\x72\151\x63\x65\40\x6f\160\x74\x69\x6f\x6e\x5f\x71\x75\x61\156\164\151\x74\171"); $d2c = explode("\40", "\145\141\x6e\x20\151\163\x62\x6e\x20\x6a\x61\x6e\40\x6d\157\144\x65\x6c\x20\155\x70\x6e\x20\x6e\141\155\x65\x20\x70\x72\x6f\x64\165\143\x74\x5f\151\144\x20\163\145\157\x5f\165\162\x6c\40\x73\x6b\165\x20\165\x70\143"); sort($fb9); sort($d2c); $d43 = array(); goto Ee7e; F035: E7($settings); EC("\151\155\x70\157\x72\x74\46\151\144\75" . $donor_id); a5fe: $settings["\162\x6f\x77\163"] = $B16; $settings["\145\x72\x72\157\x72"] = false; goto eaa4; c4c4: E920: if (!empty($settings["\155\141\x74\x63\150"])) { goto f702; } $settings["\x6d\x61\164\143\150"] = ''; f702: $D1 = query("\x53\x45\114\105\x43\x54\x20\151\x6e\163\137\151\x64\x20\x46\x52\x4f\x4d\40\160\x61\162\163\x65\155\170\137\151\156\x73\x20\127\110\x45\122\105\40\x64\x6f\x6e\x6f\x72\x5f\151\x64\x3d{$donor_id}")->row; goto d7a4; e5f5: ?>
        <input type="submit" name="change_file" data-theme="e" data-direction="reverse" data-inline="true" data-icon="calendar" value="<?php  echo e2("\103\x68\141\x6e\x67\x65\40\x66\x69\x6c\145"); ?>
"/>
    <?php  D9c4: ?>

    <h2><?php  goto b2f1; A2c5: if (!($D0["\x64\164\x79\160\x65"] != "\x66\x69\154\145")) { goto Adca; } die("\x54\x68\151\163\x20\144\x6f\156\x6f\162\x20\x69\x73\x20\156\157\x74\40\111\x6d\160\x6f\x72\164\x2d\x74\x79\160\x65"); Adca: $settings = bF(); $eac = "\164\x65\x6d\x70\x2f"; goto Cf5e; B211: Ec("\x69\155\x70\157\162\x74\x26\x69\144\75{$donor_id}"); B28e: if (!isset($_POST["\x73\141\x76\145"])) { goto f9db; } EC("\x74\151\164\154\x65"); f9db: goto Fc61; ad0c: ?>
 <?php  echo E2("\x72\157\x77\x73"); ?>
)</span>
    </h2>

<?php  echo E2("\106\x69\162\x73\x74\x20\162\x6f\x77\163\x20\x74\157\x20\x73\153\x69\x70"); ?>
:&nbsp;
    <a class="ui-btn ui-icon-carat-l ui-btn-icon-notext ui-btn-inline ui-mini" style="margin-right: -3px"
        onclick="if ($('#skip').val()>0) $('#skip').val($('#skip').val()-1); SkipChange()"></a>
    <span style='width:50px; display:inline-block'>
        <input onchange="SkipChange()" name="skip" id="skip" data-inline='true' data-mini='true' value="<?php  goto e61a; d7d1: d6d9: ?>
</table>
</div>
    <br/>
    <?php  b42("\151\155\160\x6f\x72\x74", "\143\x6f\x6e\146\151\x67\x2f" . $D0["\150\157\163\164"] . "\57\164\141\163\x6b\137\144\145\146\141\165\x6c\x74\x2e\160\150\160", "\74\163\x74\162\x6f\156\147\x3e\x50\162\157\144\165\x63\x74\x20\x50\110\x50\x20\x53\x63\162\x69\x70\x74\x3a\x3c\x2f\x73\164\162\x6f\x6e\x67\x3e\40\151\x74\x20\x77\x69\x6c\x6c\40\x62\145\x20\x65\x78\145\x63\x75\164\145\144\x20\146\x6f\x72\40\x65\141\143\150\x20\160\162\157\144\x75\143\164\40\142\x65\146\157\x72\145\40\x69\x6e\x73\x65\x72\x74\151\156\147", $d43); ?>
<a data-role="button" data-direction="reverse" data-inline="true" data-icon="arrow-l" href="<?php  b7(); goto bc9a; bf71: @unlink("\164\145\155\x70\57" . $donor_id . "\137\x69\x6d\x70\157\162\x74\145\x64"); $settings["\x73\x6b\151\x70"] = $_POST["\163\153\151\160"]; $settings["\x6d\141\x74\143\150"] = $_POST["\x6d\141\x74\143\150"]; $f50 = array(); foreach ($_POST as $Ff => $x) { if (!(substr($Ff, 0, 3) == "\x63\157\x6c")) { goto f063; } $f50[substr($Ff, 3)] = $x; f063: bc24: } goto A5d5; A04d: $B67 = "\x69\155\x70\157\x72\x74"; require f0 . "\154\151\x62\57\143\x6f\144\145\x2f\x37\x37\x30\x35\x2e\x70\x68\160"; ?>

<script type="text/javascript">
    function SkipChange() {
     data_changed=true;
     var n = $('#skip').val();
     for(var i=0;i<<?php  echo count($a7); ?>
; i++)
        if (i<n-1) {
            $('#product' + i).hide();
            $('.row' + i).hide();
        } else if (i == n-1) {
            $('#product'+i+' a').hide();
            $('#product'+i+' > span').show();
            $('#product'+i).show();
            $('.row'+i).show();
        } else {
            $('#product'+i+' .product_num').html(i-n+1);
            $('#product'+i+' a').show();
            $('#product'+i+' > span').hide();
            $('#product'+i).show();
            $('.row'+i).show();
        }
    }
</script>

<form id="form" rel="external" data-ajax="false" action="<?php  goto Fb0c; ba8d: echo array_search("\x6f\x70\164\151\x6f\156", $fb9) + 1; ?>
) {
            def = group;
            if (sel.value != 'option') def = sel.options[sel.selectedIndex].text;
            name = prompt('Enter option name', def);
            if (name == 'null' || !name) {
                sel.selectedIndex = 0;
                return;
            }
            name = name.replace(':', '');
            sel.options[sel.selectedIndex].text = name;
            sel.options[sel.selectedIndex].value = '@#' + name;
        }
    }

    function SaveGo(url) {
        save_editors();
        if (data_changed) {
            $.post( '<?php  B7(); ?>
import2&ajax=1&id=<?php  echo $donor_id; goto ad46; F7d1: ?>
)</option>
            <?php  foreach ($d2c as $f07) { ?>
                <option value="<?php  echo $f07; ?>
" <?php  if (!($f07 == $settings["\x6d\141\x74\x63\150"])) { goto D86f; } echo "\x73\145\x6c\x65\143\x74\145\144\75\42\164\x72\x75\x65\x22"; D86f: ?>
>
                    <?php  echo $f07; ?>
                </option>
            <?php  b49d: } e0bd: ?>
        </select>
    </span>
<br/><br/>
<style type="text/css">
    .mxtable {
        font-size: 10px;
        background: #ddd;
        padding: 5px;
        border: 1px solid grey;
    }

    .product {
        background: grey;
        white-space: nowrap;
    }

    .product:hover {
        background: #456f9a;
    }

    .mxtable tr {
        background: white;
    }

    .mxtable tr:hover {
        background: #eee;
    }

    .grey {
        background: #eee;
    }

    .mxtable td {
        border: 1px solid grey;
        vertical-align: top;
        padding: 4px;
    }

    .ui-select {
        margin-top: 0;
        margin-bottom: 0;
    }

</style>

<div style="overflow:auto; background: #eee">
<table class="mxtable">
    <tr style="font-weight: bold; color: white; text-shadow: none;"><td style="background: grey;"><?php  echo E2("\106\x69\145\154\144"); goto ddb9; a6b8: $name = $ad0; $name = if_inside('', "\x3f", $name); $name = str_replace("\77", '', $name); $name = if_inside('', "\46", $name); $name = str_replace("\x26", '', $name); goto C791; ad46: ?>
', $('#form').serialize().replace(/\%3A\%2F\%2F/g,".%2F%2F"), function(data2) {
                if (url) {
                    location = url;
                }
            });
        } else if (url) location = url;
    }

    SkipChange();
    $(document).on('submit','form',function(){
        save_editors();
    });
</script>
