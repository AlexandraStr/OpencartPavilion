<?php
/*
LiveImport (c) MaxD, 2017. Write to liveimport@devs.mx for support and purchase.
*/
 goto Dd8; Cfa: function Ca($E69, $A2 = false) { goto a41; a6b: return false; da2: $A3a[] = "\74\x62\76{$E69}\x3c\x2f\142\76\x3a\x20" . $E20[$E69] . "\x20\x2d\76\40" . $e9; $e9 = escape($e9); return "\54\x20\140{$E69}\x60\40\75\x20\x27" . $e9 . "\47"; goto cc3; dbe: goto Fbf; C6e: $e9 = (double) $e9; Fbf: if (!($e9 == $E20[$E69])) { goto da2; } goto a6b; a41: if (g("\165\x70\x64\141\164\145\x5f" . str_replace("\137\x69\x64", '', $E69))) { goto B6a; } return false; B6a: global $E20, $a33, $A3a; $e9 = $a33[$E69]; goto dba; dba: if ($A2 == "\151\x6e\x74") { goto Df2; } if ($A2 == "\146\154\157\x61\x74") { goto C6e; } goto Fbf; Df2: $e9 = (int) $e9; goto dbe; cc3: } function updateProduct($product_id, $product, $Dd6, $Bb3) { goto D8f; a40: return false; E1f: global $E20, $a33; $E20 = $B6; $a33 = $product; goto e91; c8f: B85: if (!g("\x75\x70\x64\141\x74\x65\137\x6e\145\167\x5f\160\162\x69\x63\145")) { goto F50; } $e71 = query("\x53\x45\114\105\x43\124\40\x70\162\151\143\145\x20\106\122\117\x4d\x20" . DB_PREFIX . "\x70\x72\157\x64\x75\143\x74\x5f\x73\x70\x65\143\151\141\154\x20\x57\x48\x45\122\105\x20\160\162\157\x64\165\x63\164\x5f\151\144\75{$product_id}")->row; if ($e71) { goto Bb8; } $cc0 = 0; goto f0a; a45: $A3a[] = "\74\x62\76\157\160\164\151\x6f\156\163\74\57\x62\x3e"; $d7f = true; query("\104\x45\114\105\124\105\40\x46\122\117\x4d\40\157\143\137\160\x72\157\x64\x75\143\164\137\157\160\164\x69\157\156\40\x57\110\x45\x52\x45\40\x70\162\x6f\x64\165\x63\x74\x5f\x69\x64\x20\75\40\47" . (int) $product_id . "\x27"); query("\x44\x45\x4c\105\124\105\40\106\x52\117\x4d\40\157\x63\137\160\162\157\144\165\x63\x74\137\157\160\164\x69\157\156\x5f\x76\x61\x6c\x75\145\x20\127\x48\x45\122\x45\40\x70\162\x6f\x64\165\x63\x74\x5f\151\144\x20\75\40\x27" . (int) $product_id . "\47"); if (!isset($Dd6)) { goto e42; } goto Aa4; fe4: Ef0: e42: eae: ee3: if (!g("\x75\160\x64\x61\x74\x65\x5f\x61\164\164\162\x69\142\165\x74\x65\x73")) { goto Dac; } goto B12; D25: D64: $D1 = "\125\x50\x44\x41\124\105\40\157\x63\137\160\x72\x6f\x64\x75\x63\x74\40\x53\x45\x54\x20\160\x72\157\144\x75\143\164\x5f\151\x64\x20\75\40" . (int) $product_id; $a25 = $D1; $B6 = query("\x53\x45\x4c\x45\103\x54\x20\x2a\x20\x46\122\x4f\115\40" . DB_PREFIX . "\x70\x72\157\x64\x75\143\x74\x20\x57\x48\x45\x52\x45\x20\x70\x72\157\x64\x75\x63\164\137\151\144\x20\x3d\40" . (int) $product_id)->row; if ($B6) { goto E1f; } goto a40; F42: $D1 .= "\x20\167\150\x65\x72\145\x20\x60\x70\162\x6f\144\165\143\164\137\151\144\x60\40\75\x20" . $product_id; if (!$d7f) { goto e4e; } query($D1); e4e: if (!g("\x75\x70\x64\x61\x74\x65\x5f\x6f\160\164\x69\x6f\156\163")) { goto ee3; } goto E53; Bb3: $D1 .= Ca("\x6c\x6f\x63\141\x74\151\x6f\156"); $D1 .= Ca("\x73\164\x61\164\165\163", "\151\156\164"); $D1 .= CA("\163\x74\x6f\143\153\x5f\163\164\141\x74\x75\163\x5f\151\144", "\151\156\164"); $D1 .= CA("\160\162\x69\143\x65", "\x66\154\x6f\x61\x74"); if (!g("\165\x70\x64\141\x74\145\x5f\x73\x65\x6f\137\x75\x72\154")) { goto B85; } goto C31; c5b: static $a0e; if ($a0e) { goto C4b; } $a0e = query("\123\x48\x4f\x57\x20\103\117\114\125\x4d\116\x53\40\x46\x52\x4f\x4d\40" . DB_PREFIX . "\x70\x72\157\144\165\143\164\x20\114\x49\113\x45\x20\x27\x6d\x61\x69\156\137\x63\x61\164\x65\x67\157\x72\171\x5f\151\144\47")->row; if ($a0e) { goto c90; } $a0e = -1; goto B89; da1: $D1 .= ca("\x77\145\151\x67\150\x74", "\x66\x6c\157\x61\164"); $D1 .= CA("\x77\145\x69\x67\150\x74\137\x63\154\141\x73\163\137\151\x64", "\x69\x6e\164"); $D1 .= CA("\155\141\x6e\x75\x66\x61\x63\x74\x75\162\x65\162\x5f\151\x64", "\x69\x6e\164"); $D1 .= ca("\155\157\144\x65\154"); $D1 .= Ca("\163\x6b\x75"); goto Bb3; e91: global $A3a; $A3a = array(); $D1 .= cA("\x71\x75\x61\156\164\x69\x74\171", "\x69\x6e\x74"); global $update_weight_class_id; $update_weight_class_id = g("\x75\x70\x64\x61\164\145\x5f\x77\x65\151\147\x68\164"); goto da1; af4: if (!($e71 or !empty($F3e) || $bec != $a01)) { goto b94; } $D67 = true; b94: Af1: if (!$D67) { goto eae; } goto a45; A00: b07: if (!$e71) { goto F4f; } $D67 = true; F4f: if (!$D67) { goto Cd2; } goto C55; e1a: b0c: B60: Cd2: Dac: $a7 =& $product; goto ef4; C98: static $E5c; if ($E5c) { goto d43; } $E5c = query("\123\x48\x4f\127\x20\x43\117\114\x55\x4d\116\123\40\x46\122\x4f\115\40" . DB_PREFIX . "\160\x72\x6f\144\x75\x63\164\x5f\164\x6f\x5f\143\x61\x74\x65\x67\x6f\x72\x79\40\x4c\x49\x4b\105\x20\x27\x6d\x61\x69\156\137\143\x61\x74\145\x67\x6f\162\171\x27")->row; if ($E5c) { goto c9e; } $E5c = -1; goto E89; de4: bee: if (!g("\165\x70\x64\141\164\x65\x5f\151\155\141\147\145\x73")) { goto e62; } $A53 = @count($product["\160\162\157\144\165\x63\x74\137\151\x6d\x61\147\x65"]); if (!$product["\x69\155\x61\x67\145"]) { goto F2f; } $A53++; goto Ecb; cc8: $cc0 = $e71["\x6b\145\x79\x77\157\162\144"]; D0c: if (!($product["\153\145\171\x77\157\x72\144"] != $cc0)) { goto A0e; } query("\x44\x45\114\x45\124\x45\40\106\122\x4f\115\x20\157\143\137\165\162\x6c\137\141\154\151\141\x73\40\127\x48\x45\x52\x45\40\x71\x75\x65\162\x79\40\75\40\47\x70\162\157\144\165\x63\x74\x5f\x69\x64\75" . (int) $product_id . "\47"); if (!$product["\153\x65\171\167\x6f\162\x64"]) { goto ba2; } goto De2; D8f: e1("\x70\x72\x6f\x64\x75\x63\x74", $product_id, g("\x75\162\x6c")); global $db; if (!(count($product["\x70\x72\x6f\144\165\x63\x74\137\144\145\x73\x63\x72\151\160\164\151\157\156"]) > 0)) { goto D64; } foreach ($product["\x70\x72\x6f\x64\165\143\x74\137\x64\145\x73\143\x72\x69\x70\164\151\x6f\x6e"] as $Bc => $A9) { query("\125\120\x44\x41\x54\x45\40\157\x63\137\160\162\157\x64\x75\x63\164\x5f\144\145\163\x63\x72\151\160\x74\x69\157\156\40\x53\105\x54\x20\x6e\141\x6d\145\40\x3d\40\x27" . escape($A9["\156\x61\155\x65"]) . "\47\x2c\x20\155\x65\x74\x61\x5f\x6b\x65\171\x77\157\162\144\x20\75\40\x27" . escape($A9["\155\x65\x74\141\137\x6b\x65\x79\x77\157\x72\x64"]) . "\47\x2c\40\155\145\164\141\137\144\x65\163\143\x72\151\160\x74\151\157\156\x20\75\x20\47" . escape($A9["\x6d\145\164\x61\137\144\x65\163\x63\162\151\160\x74\x69\157\156"]) . "\x27\54\40\144\x65\x73\143\162\x69\160\x74\x69\x6f\x6e\40\x3d\x20\x27" . escape($A9["\144\145\163\x63\x72\x69\160\x74\151\x6f\156"]) . "\x27\x20\167\x68\x65\162\x65\40\x28\160\x72\157\x64\165\143\164\x5f\x69\144\40\75\x20" . (int) $product_id . "\51\40\141\156\144\40\50\x6c\141\156\x67\165\x61\x67\145\x5f\x69\144\40\75\40" . (int) $Bc . "\x29"); Cef: } Bd7: goto D25; C0e: ed($product_id); return $A3a; goto f54; ce4: B99: if (!g("\x75\160\x64\x61\x74\145\137\x66\151\x6c\164\x65\x72")) { goto ebb; } global $filter; d5($product_id, bE($filter)); ebb: goto C0e; Aa4: foreach ($Dd6 as $C96) { goto e2c; bcb: Cf0: D7a: goto C32; e2c: if ($C96["\x74\171\160\145"] == "\163\145\154\145\x63\x74" || $C96["\x74\x79\160\145"] == "\x72\141\x64\151\157" || $C96["\164\171\160\145"] == "\143\x68\x65\143\x6b\x62\x6f\170" || $C96["\164\171\160\145"] == "\151\155\x61\147\145") { goto Afc; } query("\x49\116\123\105\122\124\40\x49\x4e\124\117\40\157\143\x5f\x70\162\x6f\x64\x75\143\x74\137\x6f\x70\164\151\x6f\156\40\x53\105\x54\40\40\x70\x72\x6f\144\x75\x63\x74\x5f\x69\x64\40\75\x20\x27" . (int) $product_id . "\47\54\x20\157\160\164\x69\x6f\x6e\137\151\144\x20\x3d\x20\47" . (int) $C96["\157\x70\164\x69\x6f\x6e\137\151\144"] . "\x27\x2c\40\157\160\164\x69\157\156\x5f\166\141\x6c\165\x65\40\x3d\x20\47" . escape($C96["\x6f\x70\x74\151\x6f\x6e\x5f\x76\141\x6c\165\145"]) . "\47\x2c\x20\162\x65\x71\165\151\162\x65\x64\40\75\40\x27" . (int) $C96["\x72\x65\x71\165\151\162\145\144"] . "\x27"); goto Cf0; Afc: query("\111\x4e\x53\105\122\x54\x20\111\116\x54\117\x20\157\143\137\160\162\x6f\x64\165\143\x74\x5f\157\x70\x74\x69\157\156\40\x53\105\124\40\x20\160\x72\157\144\165\143\164\x5f\151\x64\40\75\x20\x27" . (int) $product_id . "\x27\x2c\40\x6f\x70\164\151\157\156\x5f\x69\x64\40\75\x20\47" . (int) $C96["\x6f\160\164\151\x6f\156\x5f\151\144"] . "\47\54\40\162\x65\x71\x75\x69\162\145\x64\x20\x3d\x20\x27" . (int) $C96["\162\x65\161\165\151\x72\145\144"] . "\x27"); goto b40; b40: $dd8 = $db->getLastId(); if (!isset($C96["\x70\x72\x6f\x64\165\143\164\x5f\157\160\x74\151\x6f\x6e\137\x76\141\154\x75\x65"])) { goto Eb2; } foreach ($C96["\x70\x72\157\144\165\x63\x74\137\157\160\x74\x69\157\x6e\x5f\x76\x61\x6c\165\x65"] as $B6a) { query("\111\x4e\123\x45\122\124\x20\x49\x4e\124\117\40\157\x63\137\x70\x72\x6f\144\165\x63\x74\137\157\x70\x74\x69\157\156\x5f\x76\x61\154\165\145\x20\123\x45\x54\40\160\x72\157\144\x75\x63\x74\x5f\x6f\160\x74\151\157\156\137\x69\144\40\75\x20\x27" . (int) $dd8 . "\x27\x2c\x20\160\162\157\144\x75\143\164\x5f\151\144\x20\75\x20\x27" . (int) $product_id . "\x27\54\x20\x6f\x70\x74\151\x6f\156\x5f\151\144\x20\75\40\x27" . (int) $C96["\x6f\160\x74\151\x6f\x6e\x5f\x69\144"] . "\47\54\x20\157\x70\x74\x69\157\x6e\x5f\x76\141\154\x75\x65\x5f\151\x64\x20\75\40\47" . (int) $B6a["\x6f\x70\164\151\x6f\x6e\x5f\166\x61\x6c\x75\145\137\151\144"] . "\47\54\x20\x71\165\141\156\x74\151\x74\171\40\75\x20\47" . (int) $B6a["\161\x75\x61\156\x74\x69\164\171"] . "\x27\54\40\x73\x75\142\x74\162\141\x63\164\40\75\40\47" . (int) $B6a["\163\x75\142\164\x72\141\143\x74"] . "\47\54\x20\160\162\x69\143\145\40\75\x20\47" . (double) $B6a["\160\x72\151\143\145"] . "\x27\x2c\x20\160\x72\151\143\145\x5f\x70\x72\145\146\151\x78\x20\x3d\x20\47" . escape($B6a["\x70\x72\151\x63\x65\137\160\x72\x65\146\x69\x78"]) . "\47\54\x20\x70\157\151\156\x74\163\x20\75\x20\x27" . (int) $B6a["\x70\x6f\151\156\164\163"] . "\x27\54\40\160\x6f\x69\x6e\x74\163\x5f\160\162\145\x66\x69\x78\40\x3d\x20\x27" . escape($B6a["\x70\x6f\x69\156\164\163\x5f\x70\162\145\146\151\x78"]) . "\x27\54\40\x77\145\151\x67\150\164\40\75\40\x27" . (double) $B6a["\x77\145\151\x67\150\x74"] . "\47\54\x20\167\x65\x69\x67\150\164\137\x70\162\145\x66\x69\170\x20\75\40\47" . escape($B6a["\x77\145\x69\x67\x68\x74\137\160\x72\145\x66\151\x78"]) . "\x27"); d6b: } F01: Eb2: goto bcb; C32: } D03: if (!g("\162\145\154\x61\x74\x65\x64\x5f\157\x70\x74\151\157\x6e\x73")) { goto Ef0; } C9("\155\157\144\x75\x6c\x65\57\162\145\154\141\x74\x65\x64\137\157\160\x74\151\157\156\x73"); BC("\155\157\x64\145\154\x5f\155\x6f\x64\165\154\x65\x5f\x72\x65\154\x61\164\x65\x64\137\157\160\x74\151\157\x6e\x73")->editRelatedOptions($product_id, g("\x72\145\154\x61\164\145\144\x5f\157\x70\164\x69\157\x6e\163\x5f\144\x61\x74\141")); goto fe4; f0a: goto D29; Bb8: $cc0 = $e71["\160\162\x69\143\x65"]; D29: if (!($cc0 != $product["\x6e\x65\x77\x5f\160\162\x69\x63\x65"])) { goto C6b; } goto a82; B12: $e71 = query("\123\x45\114\x45\103\x54\x20\x2a\40\x46\122\117\115\40" . DB_PREFIX . "\160\x72\x6f\144\x75\143\164\x5f\141\x74\164\x72\151\x62\165\x74\145\40\x57\110\105\x52\105\40\x70\x72\x6f\x64\x75\x63\164\137\151\144\x20\x3d\40\x27" . (int) $product_id . "\x27")->rows; $D67 = false; if (!isset($Bb3)) { goto b07; } foreach ($Bb3 as $Ca7) { goto dc9; dc9: if (!$Ca7["\141\164\x74\162\x69\142\x75\x74\145\x5f\151\144"]) { goto Aa5; } $D2 = false; foreach ($Ca7["\x70\x72\157\x64\165\143\x74\137\141\164\x74\x72\151\x62\x75\x74\145\x5f\144\x65\x73\x63\x72\151\160\x74\x69\157\x6e"] as $Bc => $bf2) { foreach ($e71 as $Ff => $F0) { if (!((int) $Ca7["\141\164\164\162\x69\142\x75\164\145\137\x69\144"] == $F0["\141\x74\164\x72\151\142\165\164\145\137\151\x64"] && $Bc == $F0["\x6c\x61\x6e\147\x75\141\x67\x65\137\151\x64"])) { goto D56; } $D2 = true; if (!($bf2["\164\145\x78\164"] != $F0["\x74\145\170\x74"])) { goto ec6; } $D67 = true; ec6: unset($e71[$Ff]); goto E7a; D56: f81: } E7a: if (!$D67) { goto Fb3; } goto a1b; Fb3: cae: } a1b: if ($D2) { goto d08; } goto c69; c69: $D67 = true; d08: if (!$D67) { goto b42; } goto b9c; b42: goto d9c; d9c: Aa5: c44: goto D88; D88: } b9c: goto A00; E53: $D67 = false; $e71 = query("\x53\105\114\105\x43\x54\x20\52\40\106\x52\x4f\x4d\x20\x6f\x63\137\160\162\157\x64\x75\x63\164\137\157\x70\164\x69\x6f\156\x20\x57\x48\105\x52\x45\40\160\x72\157\x64\165\x63\164\137\x69\x64\40\75\40\x27" . (int) $product_id . "\47")->rows; if (!($Dd6 and !$e71)) { goto bdb; } $D67 = true; bdb: goto D39; B89: goto a39; c90: $a0e = 1; a39: C4b: goto C98; Ecb: F2f: $A3a[] = "{$A53}\40\x3c\x62\x3e\x69\x6d\141\147\145\163\74\57\142\x3e"; $D1 .= "\x2c\x20\151\155\141\147\x65\x20\75\40\47" . escape(html_entity_decode($product["\151\x6d\141\x67\x65"], ENT_QUOTES, "\125\124\x46\x2d\70")) . "\x27"; query("\104\105\x4c\x45\124\x45\x20\x46\x52\x4f\115\40\x6f\x63\x5f\x70\x72\x6f\144\165\x63\x74\x5f\151\155\141\147\145\x20\x57\110\105\x52\105\40\160\x72\157\144\165\x63\x74\x5f\x69\x64\x20\x3d\40" . (int) $product_id); if (!isset($product["\x70\162\x6f\144\165\143\164\x5f\151\155\x61\147\145"])) { goto Bb1; } goto ca5; ca5: foreach ($product["\160\162\157\144\165\x63\x74\x5f\x69\x6d\141\147\145"] as $b93) { query("\x49\x4e\x53\x45\122\x54\40\111\x4e\x54\x4f\40\x6f\143\137\160\162\x6f\144\165\x63\164\x5f\151\x6d\141\x67\145\40\x53\105\124\x20\160\162\157\x64\x75\x63\164\x5f\151\144\40\75\x20\47" . (int) $product_id . "\x27\x2c\40\151\x6d\141\x67\145\40\x3d\40\47" . escape(html_entity_decode($b93["\151\155\x61\x67\145"], ENT_QUOTES, "\125\124\106\x2d\x38")) . "\x27\x2c\x20\163\157\162\164\x5f\157\162\144\x65\x72\x20\75\x20\x27" . (int) $b93["\x73\x6f\162\164\x5f\157\x72\144\145\x72"] . "\x27"); F23: } D2d: Bb1: e62: if (!g("\165\x70\x64\141\164\145\x5f\x63\141\x74\x65\147\157\x72\x69\x65\163")) { goto B5d; } goto c5b; C31: $e71 = query("\x53\105\114\105\x43\x54\x20\153\145\171\x77\x6f\162\x64\40\106\x52\x4f\x4d\40\x6f\143\137\165\x72\x6c\x5f\x61\154\x69\x61\163\40\x57\x48\105\122\105\40\x71\x75\x65\x72\x79\x20\x3d\x20\x27\x70\162\x6f\144\x75\143\x74\137\151\x64\75" . (int) $product_id . "\x27")->row; if ($e71) { goto a23; } $cc0 = ''; goto D0c; a23: goto cc8; f34: foreach ($product["\x70\162\157\144\165\143\x74\x5f\x63\141\164\145\147\x6f\162\x79"] as $C3) { $e71 = "\x49\x4e\123\105\x52\124\x20\111\x4e\x54\x4f\40\x6f\143\137\160\162\157\x64\x75\143\164\x5f\x74\157\137\143\x61\x74\145\147\157\162\x79\40\x53\105\x54\40\160\x72\157\x64\165\x63\x74\x5f\151\x64\40\x3d\x20\47" . (int) $product_id . "\x27\54\40\143\x61\x74\145\x67\157\x72\171\137\x69\144\x20\75\40\47" . (int) $C3 . "\x27"; if (!($E5c > 0 && $C3 == $product["\155\141\x69\156\x5f\x63\x61\x74\145\x67\157\162\171\137\151\144"])) { goto d7c; } $e71 .= "\x2c\40\155\141\151\156\137\143\141\164\x65\x67\157\x72\x79\x3d\61"; d7c: query($e71); f02: } fb3: d10: B5d: $d7f = $D1 != $a25; goto F42; a82: $A3a[] = "\x3c\142\76\156\145\x77\40\160\162\x69\x63\x65\74\x2f\142\76\72\x20{$cc0}\40\55\x3e\x20{$product["\156\x65\x77\x5f\x70\162\151\x63\x65"]}"; query("\x44\105\x4c\x45\124\105\x20\x46\122\x4f\x4d\40" . DB_PREFIX . "\160\x72\157\x64\165\x63\164\x5f\x73\x70\145\143\x69\141\154\x20\x57\x48\x45\x52\x45\40\160\162\157\x64\165\143\164\x5f\151\144\75" . $product_id); if (!$product["\156\145\167\137\160\x72\151\143\x65"]) { goto B26; } query("\111\116\x53\x45\x52\124\40\111\116\124\x4f\x20" . DB_PREFIX . "\x70\162\157\x64\165\143\164\137\163\160\x65\x63\x69\x61\154\x20\x53\105\124\x20\160\162\157\144\x75\143\164\x5f\x69\144\75{$product_id}\54\40\x63\165\x73\164\x6f\155\x65\162\137\147\162\x6f\x75\x70\137\151\144\75" . g("\x6e\x65\167\137\160\x72\x69\143\145\137\147\x72\x6f\165\x70\137\x69\x64", 1) . "\x2c\40\x70\x72\x69\x6f\x72\x69\164\x79\x3d\61\x2c\40\160\162\151\143\145\75" . $product["\156\x65\167\x5f\x70\x72\x69\x63\145"] . "\x2c\40\144\141\164\145\x5f\145\156\144\x3d\x27" . g("\156\145\x77\x5f\x70\162\x69\143\145\137\145\x6e\x64") . "\47"); B26: goto Acd; ef4: if (!g("\x75\160\x64\x61\164\x65\x5f\162\x65\154\x61\164\145\144")) { goto B99; } if (!isset($a7["\160\x72\157\x64\165\143\x74\137\x72\145\154\x61\164\x65\x64"])) { goto fa0; } foreach ($a7["\160\x72\157\144\165\x63\x74\x5f\x72\145\154\x61\x74\145\144"] as $ed6) { query("\x44\105\x4c\105\x54\x45\x20\106\122\117\x4d\x20\x6f\x63\137\160\162\x6f\x64\x75\x63\x74\x5f\x72\x65\154\x61\164\x65\x64\40\x57\x48\x45\x52\105\x20\x70\162\x6f\144\x75\143\x74\137\151\144\40\75\40\x27" . (int) $product_id . "\47\x20\x41\116\104\x20\x72\x65\154\141\x74\145\x64\x5f\151\x64\x20\75\x20\x27" . (int) $ed6 . "\x27"); query("\x49\x4e\123\105\122\x54\x20\111\x4e\x54\x4f\40\x6f\143\x5f\x70\162\157\x64\x75\x63\164\137\x72\x65\154\141\x74\x65\144\x20\123\x45\x54\x20\160\x72\x6f\144\x75\x63\x74\x5f\x69\144\x20\x3d\40\47" . (int) $product_id . "\47\x2c\x20\x72\145\154\x61\x74\145\x64\137\151\144\x20\75\x20\47" . (int) $ed6 . "\47"); query("\x44\105\114\x45\x54\x45\40\106\x52\x4f\115\x20\157\x63\137\x70\162\x6f\144\165\x63\x74\137\162\145\154\141\164\x65\144\x20\127\x48\x45\x52\105\x20\x70\162\157\x64\x75\143\164\137\151\144\40\75\x20\47" . (int) $ed6 . "\47\x20\101\116\x44\40\x72\x65\154\141\x74\145\x64\137\151\144\x20\x3d\x20\47" . (int) $product_id . "\x27"); query("\111\116\x53\105\122\124\40\x49\x4e\x54\117\40\157\143\137\x70\162\x6f\144\165\143\164\x5f\x72\145\154\x61\x74\145\x64\x20\123\x45\x54\x20\x70\x72\157\x64\165\143\164\137\151\x64\x20\x3d\x20\47" . (int) $ed6 . "\47\54\x20\162\145\154\x61\x74\x65\144\x5f\151\x64\40\x3d\x20\x27" . (int) $product_id . "\47"); d8a: } f7b: fa0: goto ce4; e88: if (!($a0e > 0 && $product["\x6d\141\151\156\x5f\x63\141\x74\145\147\157\x72\171\137\151\144"] != $B6["\x6d\x61\151\x6e\137\143\x61\x74\x65\x67\157\162\x79\137\151\x64"])) { goto dcc; } $D1 .= "\54\x20\x6d\141\151\x6e\x5f\x63\x61\x74\145\147\x6f\x72\171\137\x69\144\40\x3d\40\47" . $product["\155\141\x69\x6e\137\x63\x61\x74\145\x67\157\162\x79\137\151\x64"] . "\47"; dcc: query("\104\105\x4c\x45\124\105\40\106\x52\117\x4d\x20\x6f\143\x5f\160\x72\x6f\x64\165\143\164\x5f\x74\x6f\x5f\x63\141\x74\145\x67\157\x72\x79\x20\x57\x48\x45\x52\x45\x20\160\x72\x6f\x64\x75\143\x74\137\151\x64\40\x3d\40\x27" . (int) $product_id . "\47"); if (!isset($product["\x70\162\157\x64\165\143\x74\137\x63\141\x74\145\x67\x6f\162\x79"])) { goto d10; } goto f34; E89: goto b43; c9e: $E5c = 1; b43: d43: goto e88; C55: $A3a[] = "\x3c\x62\x3e\141\x74\164\x72\x69\x62\165\164\x65\x73\74\x2f\x62\76"; $d7f = true; query("\104\105\114\105\x54\105\x20\106\x52\117\115\x20\157\x63\137\160\162\157\x64\165\143\x74\x5f\141\164\x74\x72\x69\142\165\x74\x65\x20\127\110\x45\122\x45\40\x70\162\x6f\144\165\143\164\x5f\151\144\40\x3d\40\47" . (int) $product_id . "\47"); if (!isset($Bb3)) { goto B60; } foreach ($Bb3 as $Ca7) { if (!$Ca7["\141\x74\164\162\x69\x62\165\164\x65\x5f\x69\x64"]) { goto Dee; } foreach ($Ca7["\160\162\157\x64\x75\x63\x74\x5f\141\164\x74\x72\x69\x62\165\x74\x65\x5f\144\x65\163\143\x72\151\x70\x74\x69\157\x6e"] as $Bc => $bf2) { query("\111\x4e\x53\105\122\x54\x20\x49\x4e\124\x4f\x20\157\143\137\x70\x72\x6f\x64\165\143\x74\137\x61\164\x74\x72\151\x62\165\x74\x65\x20\123\x45\124\x20\160\162\x6f\144\x75\x63\x74\137\x69\144\40\x3d\x20\x27" . (int) $product_id . "\47\54\x20\x61\x74\x74\162\151\x62\x75\x74\145\x5f\151\144\40\x3d\40\47" . (int) $Ca7["\141\x74\164\162\x69\x62\165\x74\x65\137\x69\144"] . "\x27\x2c\x20\154\x61\x6e\x67\165\x61\x67\145\137\x69\x64\x20\75\x20\47" . (int) $Bc . "\47\x2c\x20\x74\145\170\164\x20\75\40\x27" . escape($bf2["\x74\x65\x78\164"]) . "\x27"); Ed2: } ebe: Dee: be6: } goto e1a; D39: $bec = 0; $a01 = 0; foreach ($Dd6 as $C96) { foreach ($e71 as $Ff => $F0) { goto c0a; Ebd: if (isset($F3e)) { goto d36; } $F3e = query("\123\105\x4c\105\103\x54\40\x2a\40\x46\122\x4f\x4d\x20\157\x63\137\x70\162\157\x64\165\143\164\137\157\x70\164\151\x6f\x6e\x5f\x76\x61\x6c\165\x65\x20\x57\110\x45\122\105\40\160\162\x6f\x64\165\x63\x74\x5f\x69\x64\x20\x3d\40\47" . (int) $product_id . "\47")->rows; d36: if (!isset($C96["\160\162\x6f\x64\x75\143\x74\x5f\157\x70\x74\151\x6f\x6e\x5f\x76\x61\154\165\145"])) { goto ee4; } foreach ($C96["\160\162\157\144\165\143\164\x5f\157\x70\x74\x69\x6f\156\x5f\166\141\154\x75\145"] as $B6a) { $bec++; foreach ($F3e as $C37 => $bde) { if (!($bde["\157\x70\x74\x69\157\x6e\137\166\x61\154\x75\145\x5f\151\x64"] == $B6a["\157\x70\164\151\x6f\x6e\x5f\x76\x61\x6c\x75\x65\x5f\151\144"])) { goto B6d; } if (!((int) $bde["\161\165\x61\156\x74\x69\x74\171"] != (int) $B6a["\161\165\141\156\x74\x69\x74\171"] || (int) $bde["\x70\x72\151\143\145"] != (int) $B6a["\160\x72\151\x63\x65"])) { goto ef5; } $D67 = true; goto B1c; ef5: unset($F3e[$C37]); $a01++; B6d: D11: } B1c: Ddd: } goto C12; C12: e0d: ee4: if (!$D67) { goto b36; } goto a31; b36: goto b61; c0a: if (!($F0["\157\x70\x74\151\x6f\x6e\x5f\x69\144"] == $C96["\x6f\x70\164\151\157\x6e\x5f\151\144"])) { goto A32; } if (!($F0["\x72\x65\161\x75\x69\162\x65\144"] != $C96["\x72\x65\161\x75\151\x72\145\x64"])) { goto e67; } $D67 = true; goto a31; e67: goto Ebd; b61: unset($e71[$Ff]); A32: E5e: goto Ad5; Ad5: } a31: c8e: } b30: if ($D67) { goto Af1; } goto af4; Acd: C6b: F50: if (!(g("\144\141\164\x65\x5f\141\x76\x61\x69\154\x61\142\x6c\145") && $product["\x64\141\164\x65\137\141\166\x61\x69\x6c\x61\x62\154\x65"] != $B6["\144\x61\164\x65\137\x61\166\x61\151\154\141\142\x6c\145"])) { goto bee; } $D1 .= "\54\40\x60\x64\x61\x74\145\x5f\x61\166\x61\151\x6c\141\x62\154\x65\140\40\75\x20\47" . $product["\144\141\x74\145\x5f\x61\166\141\x69\154\x61\x62\x6c\145"] . "\x27"; $A3a[] = "\x3c\142\76\x64\x61\164\x65\x5f\x61\x76\141\x69\x6c\141\142\154\x65\x3c\57\142\x3e\72\x20{$B6["\144\x61\164\x65\137\141\x76\x61\x69\x6c\141\142\x6c\x65"]}\40\x2d\76\x20{$product["\x64\x61\x74\145\137\x61\x76\141\x69\154\x61\x62\x6c\145"]}"; goto de4; De2: B5($product["\x6b\x65\171\x77\x6f\162\144"]); query("\x49\x4e\x53\105\x52\x54\40\111\116\124\117\40\157\143\x5f\x75\162\154\137\x61\154\x69\141\x73\x20\x53\105\x54\x20\x71\x75\x65\x72\x79\x20\x3d\40\47\x70\x72\x6f\x64\165\143\164\x5f\x69\144\x3d" . (int) $product_id . "\x27\x2c\40\x6b\145\x79\167\x6f\162\x64\40\75\x20\47" . escape($product["\153\x65\171\167\157\162\x64"]) . "\x27"); $A3a[] = "\x3c\142\76\x53\105\117\x20\x55\122\114\74\x2f\x62\76\72\40{$cc0}\x20\55\76\x20{$product["\153\x65\x79\167\x6f\162\x64"]}"; ba2: A0e: goto c8f; f54: } function query($C7) { global $db, $DB_PREFIX; $C7 = str_replace("\x20\157\x63\x5f", "\40" . DB_PREFIX, $C7); $C7 = str_replace("\x60\x6f\143\x5f", "\140" . DB_PREFIX, $C7); $C7 = str_replace("\x20\160\x61\162\x73\145\155\170\137", "\x20" . $DB_PREFIX, $C7); return $db->query($C7); } function HaveAdminAccess() { global $user; if ($user) { goto F9a; } return false; F9a: if (method_exists($user, "\x68\x61\163\x50\145\162\155\151\163\163\151\x6f\x6e")) { goto De5; } return false; De5: return $user->hasPermission("\x6d\x6f\x64\151\146\171", "\163\145\x74\x74\x69\x6e\147\x2f\x73\x65\164\x74\151\156\x67"); } function GetCategories() { goto e6d; bd1: $d05 = false; foreach ($a0 as &$B02) { goto Dcb; E6a: $B02["\x66\165\154\154\x6e\x61\155\145"] = $a0[$E3]["\x66\x75\x6c\x6c\156\x61\155\x65"] . "\40\46\x67\x74\x3b\40" . $B02["\x6e\x61\155\145"]; $d05 = true; D65: E9b: f7f: goto a4f; a4f: De9: goto E1c; Dcb: if (isset($B02["\x66\x75\x6c\x6c\x6e\x61\155\145"])) { goto f7f; } if ($E3 = $B02["\x70\141\x72\x65\x6e\164\x5f\151\144"] and isset($a0[$E3])) { goto fdb; } $B02["\x66\x75\x6c\154\156\141\x6d\145"] = $B02["\156\x61\x6d\x65"]; $d05 = true; goto E9b; goto bfd; bfd: fdb: if (isset($a0[$E3]["\x66\165\154\x6c\x6e\x61\155\145"])) { goto E90; } $Eb6 = true; goto D65; E90: goto E6a; E1c: } a07: if ($d05) { goto Fc4; } foreach ($a0 as &$B02) { if (isset($B02["\x66\x75\x6c\154\x6e\x61\155\145"])) { goto C64; } $B02["\x66\x75\x6c\154\x6e\x61\x6d\145"] = $B02["\156\141\155\x65"]; C64: B28: } goto cee; e6d: global $F6; $a0 = query("\123\105\114\105\103\x54\40\143\x2e\x63\x61\x74\x65\147\157\162\x79\x5f\151\x64\x2c\x20\x6e\141\x6d\145\54\40\x70\x61\162\x65\156\164\x5f\151\144\x20\x46\122\x4f\x4d\40\157\143\x5f\x63\x61\x74\x65\147\x6f\162\x79\x20\143\40\x4a\117\111\116\x20\157\143\137\143\x61\164\x65\x67\x6f\162\x79\137\x64\x65\163\143\162\151\160\164\x69\x6f\x6e\40\x63\x64\x20\x4f\116\40\x28\x63\x2e\143\x61\x74\x65\x67\157\162\x79\x5f\151\x64\x20\75\x20\143\144\56\143\x61\164\x65\147\157\162\171\x5f\x69\144\51\40\x57\110\x45\x52\x45\40\143\x64\x2e\x6c\141\x6e\147\165\x61\x67\x65\x5f\151\144\40\x3d\x20\x27" . (int) $F6->get("\143\x6f\156\x66\x69\x67\x5f\154\141\x6e\147\x75\x61\147\145\x5f\151\144") . "\47")->rows; $C4c = array(); foreach ($a0 as $B02) { unset($B02["\x66\x75\x6c\154\156\x61\x6d\x65"]); $B02["\156\x61\155\x65"] = trim($B02["\156\141\155\x65"]); $C4c[$B02["\143\x61\164\145\x67\x6f\162\171\x5f\x69\x64"]] = $B02; Ae3: } dd0: goto Cfd; Cfd: $a0 = $C4c; $Eb6 = true; E34: if (!$Eb6) { goto Fa9; } $Eb6 = false; goto bd1; cee: E5c: goto Fa9; Fc4: goto E34; Fa9: goto B9c; B9c: return $a0; goto bb7; bb7: } goto B1a; Ab0: $images_subdir = "\x64\141\x74\141\x2f\x6c\151\57"; goto Ef; cb: $images_subdir = "\143\141\164\x61\x6c\157\147\x2f\x6c\151\57"; Ef: goto E2c; D13: af2: $user = new Cart\User($registry); $registry->set("\x75\163\145\x72", $user); $languages = array(); $c07 = $db->query("\x53\x45\x4c\x45\x43\x54\x20\52\40\x46\x52\117\115\x20" . DB_PREFIX . "\154\x61\x6e\x67\165\x61\x67\x65"); goto bf5; Eb4: function is_seo_url_free($keyword) { $a0 = query("\123\x45\114\105\103\x54\40\161\x75\145\x72\x79\x20\x46\122\x4f\x4d\40\x6f\x63\137\x75\x72\154\137\x61\x6c\x69\x61\x73\x20\x57\110\x45\122\105\40\153\x65\x79\167\x6f\162\x64\40\x3d\x20\x27" . escape($keyword) . "\47")->row; if ($a0) { goto Faf; } return true; goto a06; Faf: return false; a06: } function product_page_link($product_id) { return HTTP_CATALOG . "\151\156\144\145\x78\x2e\x70\150\x70\77\x72\x6f\x75\164\x65\x3d\x70\x72\157\x64\165\x63\164\57\160\x72\157\x64\x75\143\x74\46\160\162\x6f\x64\x75\x63\164\x5f\x69\144\75{$product_id}"; } function GetProduct($product_id) { return query("\x53\x45\x4c\105\x43\x54\40\52\x20\106\122\x4f\115\40\157\143\137\x70\162\x6f\144\x75\x63\164\x20\160\40\x4c\x45\x46\124\x20\112\117\111\116\x20\157\143\137\160\162\x6f\x64\x75\x63\164\137\x64\x65\x73\143\162\151\x70\164\x69\x6f\x6e\x20\160\x64\x20\x4f\116\x20\50\x70\56\x70\x72\157\144\165\x63\x74\x5f\151\144\x3d\x70\144\x2e\x70\162\x6f\x64\165\x63\x74\x5f\x69\144\51\40\x57\x48\105\x52\105\x20\160\x2e\160\162\x6f\144\165\x63\164\x5f\x69\x64\75\x27{$product_id}\47")->row; } function product_name($product_id) { $D1 = query("\x53\x45\114\x45\x43\124\40\x6e\x61\155\x65\x20\x46\x52\x4f\x4d\x20\x6f\x63\x5f\160\162\157\144\x75\143\x74\x5f\x64\x65\163\143\x72\x69\x70\x74\151\x6f\x6e\x20\x57\110\x45\122\105\x20\160\x72\157\x64\x75\x63\x74\x5f\x69\x64\75\47{$product_id}\47\40\x4c\111\x4d\x49\124\x20\61")->row; if ($D1) { goto f84; } return false; f84: return $D1["\156\x61\155\x65"]; } function product_find($f2, $A9) { if (!($f2 == "\x70\162\157\x64\165\x63\164\137\x69\x64")) { goto ed9; } $f2 = "\x70\56\160\x72\157\x64\165\x63\x74\x5f\x69\x64"; ed9: $A9 = escape($A9); $D1 = query("\123\x45\x4c\x45\x43\x54\x20\160\x2e\160\x72\157\144\x75\143\164\x5f\x69\x64\x20\x46\122\117\x4d\x20\157\143\137\160\x72\x6f\144\165\143\x74\x20\160\40\x4c\105\x46\x54\40\112\117\x49\116\x20\x6f\143\137\160\162\157\x64\x75\x63\x74\137\144\145\x73\x63\x72\151\160\164\x69\157\156\40\160\144\40\x4f\x4e\x20\x28\160\56\x70\x72\x6f\144\x75\x63\x74\137\151\x64\x3d\160\x64\56\160\x72\x6f\144\x75\x63\x74\x5f\x69\144\x29\40\127\x48\105\122\x45\40" . $f2 . "\x3d\47{$A9}\x27")->row; if (!$D1) { goto Ff4; } return $D1["\160\x72\x6f\144\165\x63\x74\137\x69\x64"]; Ff4: return false; } goto Cfa; D1f: if (!empty($nosession)) { goto edd; } $session = new Session(); if (!$F6->get("\163\x65\x73\x73\151\157\156\x5f\141\x75\164\157\163\x74\x61\x72\164")) { goto b53; } $session->start(); b53: goto f37; e38: goto A5b; Ae5: require_once "\x2e\x2e\57\56\56\x2f\166\x71\x6d\157\x64\57\x76\x71\155\157\x64\x2e\x70\150\x70"; VQMod::bootup(); require_once VQMod::modCheck(DIR_SYSTEM . "\163\164\141\162\164\x75\160\56\160\150\x70"); goto Fcc; E00: $DB_PREFIX = DB_PREFIX . $DB_PREFIX; define("\143\62", VERSION > "\62"); $images_root = DIR_IMAGE; $images_root_http = "\56\x2e\x2f\x2e\x2e\57\x69\x6d\141\147\145\x2f"; if (c2) { goto cb; } goto Ab0; C80: function ManufacturerID($manufacturer, $Fa = false) { goto Bb5; B70: $ad = 0; $D1 = query("\x53\105\114\x45\103\x54\x20\155\141\156\165\146\x61\143\x74\165\162\145\x72\137\151\144\x20\x46\x52\x4f\x4d\x20" . DB_PREFIX . "\155\141\x6e\x75\x66\x61\x63\164\165\x72\145\x72\40\x57\110\105\122\x45\40\x6e\141\x6d\x65\x3d\47" . escape($manufacturer) . "\47")->row; if (!$D1) { goto d57; } $ad = $D1["\x6d\141\x6e\165\146\141\x63\164\x75\162\145\162\x5f\151\x64"]; d57: goto ba5; ba5: if (!($ad == 0)) { goto F7e; } if ($Fa) { goto f3f; } return 0; f3f: xlog("\x43\162\x65\141\164\x69\x6e\x67\x20\74\x62\76{$manufacturer}\74\x2f\x62\x3e\40\155\141\x6e\165\146\141\143\x74\165\162\145\162\56\56\56"); goto a4d; D18: $manufacturer = F7($manufacturer); if ($manufacturer) { goto A59; } return 0; A59: C9("\143\141\x74\141\x6c\x6f\x67\x2f\155\x61\156\x75\x66\x61\x63\x74\x75\162\x65\162"); goto B70; a4d: $d6 = array(); foreach (g("\x6c\x61\x6e\147") as $A9) { $a7["\x6d\145\x74\x61\x5f\144\x65\163\x63\162\151\160\164\x69\157\x6e"] = ''; $a7["\x6d\145\x74\x61\137\153\145\x79\167\x6f\162\144"] = ''; $a7["\163\145\157\x5f\150\x31"] = ''; $a7["\x73\145\157\x5f\164\151\x74\x6c\145"] = ''; $a7["\x6d\145\x74\x61\x5f\150\61"] = ''; $a7["\155\145\x74\141\x5f\x74\x69\164\154\x65"] = ''; $a7["\156\141\x6d\145"] = $manufacturer; $d6[$A9] = $a7; a71: } C23: b2($manufacturer_description, "\144\145\x73\x63\162\151\x70\x74\x69\x6f\x6e", $d6); if (!(g("\x64\145\x73\x63\x72\x69\x70\164\x69\x6f\156\137\x69\x6d\141\x67\145\163") and !g("\163\x6b\x69\160"))) { goto C48; } goto F78; B9d: b68: $E8 = translit($manufacturer); B5($E8); BC("\x6d\x6f\144\x65\x6c\137\143\x61\164\x61\x6c\157\147\x5f\155\141\x6e\165\x66\141\143\x74\x75\x72\145\162")->addManufacturer(array("\156\x61\155\145" => $manufacturer, "\x73\157\162\164\x5f\157\162\144\145\x72" => 100, "\x6d\141\156\165\146\x61\x63\164\165\162\x65\162\137\163\164\157\x72\x65" => array(0 => 0), "\151\155\x61\147\x65" => get_image(g("\x6d\141\156\x75\x66\x61\143\x74\x75\162\x65\162\137\151\x6d\x61\147\x65")), "\x6b\x65\171\167\x6f\x72\x64" => $E8, "\x6d\x61\156\x75\x66\141\x63\x74\x75\162\x65\x72\137\144\x65\163\143\162\151\160\x74\151\x6f\x6e" => $d6)); $a5 = query("\x53\x45\x4c\105\x43\x54\40\156\141\155\145\40\x46\x52\117\115\40\157\143\x5f\155\x61\x6e\x75\146\141\x63\164\x75\162\145\162\x20\117\x52\104\105\x52\40\102\131\x20\x6d\141\156\x75\x66\141\143\164\165\x72\x65\x72\137\151\x64\40\x44\x45\x53\103\x20\x4c\111\115\111\x54\x20\61")->row["\x6e\x61\x6d\145"]; goto ce0; Bb5: if ($manufacturer) { goto a49; } return 0; a49: global $manufacturer_description; $ad = 0; goto D18; F78: $manufacturer_description = get_html_images($manufacturer_description); C48: B2($manufacturer_description, "\144\145\x73\x63\162\x69\160\164\x69\157\156", $d6); if (!g("\163\153\151\x70")) { goto b68; } return false; goto B9d; f1d: $ad = $D1["\x6d\x61\x6e\x75\x66\141\x63\164\x75\162\145\x72\137\151\144"]; a66: F7e: return $ad; goto A47; ce0: if (!($manufacturer != $a5)) { goto afe; } xlog("\127\101\122\116\111\x4e\x47\x3a\x20\103\162\x65\141\164\x65\144\x20\x6d\x61\x6e\165\146\141\x63\164\165\x72\x65\x72\x20\163\x61\166\145\x20\156\x61\155\x65\40\155\151\x73\155\x61\x74\x63\150\72\x20\47{$manufacturer}\47\40\x2d\76\40\x27{$a5}\x27"); afe: $D1 = query("\123\105\114\105\x43\x54\40\155\x61\156\x75\146\141\x63\x74\165\x72\145\162\137\x69\x64\x20\106\x52\117\115\x20" . DB_PREFIX . "\x6d\x61\156\165\x66\141\x63\x74\x75\x72\x65\162\40\x57\110\x45\x52\x45\40\x6e\141\x6d\145\x3d\x27" . escape($manufacturer) . "\x27")->row; if (!$D1) { goto a66; } goto f1d; A47: } function dE($a7) { global $db; query("\111\116\123\105\122\x54\40\x49\116\124\117\40\157\143\x5f\x61\x74\164\162\151\142\x75\164\x65\40\x53\x45\124\40\x61\164\164\162\x69\142\x75\164\145\x5f\147\162\x6f\165\160\137\x69\144\x20\75\40\47" . (int) $a7["\141\164\x74\162\x69\x62\165\164\145\x5f\147\x72\x6f\165\160\137\151\x64"] . "\x27\54\x20\163\157\162\164\x5f\x6f\162\144\145\162\x20\x3d\x20\47" . (int) $a7["\x73\x6f\x72\x74\x5f\157\162\144\145\162"] . "\47"); $ce = $db->getLastId(); foreach ($a7["\x61\x74\164\162\151\x62\165\x74\x65\137\x64\145\x73\143\x72\x69\160\164\151\157\156"] as $Bc => $A9) { query("\111\x4e\123\x45\x52\x54\40\x49\x4e\124\117\40\157\x63\137\141\164\164\162\x69\x62\165\x74\x65\x5f\144\145\163\x63\x72\x69\x70\164\x69\157\156\40\123\x45\x54\x20\x61\164\164\x72\x69\142\x75\x74\145\x5f\151\144\x20\x3d\x20\47" . (int) $ce . "\x27\54\40\154\141\156\147\165\x61\x67\145\137\x69\144\40\x3d\40\47" . (int) $Bc . "\47\x2c\40\x6e\141\x6d\145\x20\x3d\40\x27" . escape($A9["\x6e\x61\155\145"]) . "\x27"); E2e: } Ab3: return $ce; } function Ba($a7) { global $db; $C7 = "\111\116\x53\x45\x52\x54\x20\111\x4e\x54\x4f\40\157\143\137\x61\x74\164\162\151\x62\x75\164\x65\x5f\x67\x72\157\165\x70\40\x53\x45\124\x20\x73\157\x72\164\137\157\x72\x64\145\162\x20\x3d\x20\47" . (int) $a7["\x73\157\162\x74\x5f\x6f\x72\144\x65\162"] . "\47"; query($C7); $f7 = $db->getLastId(); foreach ($a7["\x61\x74\164\x72\151\x62\x75\x74\x65\137\147\x72\x6f\x75\160\137\144\145\x73\143\x72\151\x70\164\151\157\x6e"] as $Bc => $A9) { query("\x49\116\123\x45\x52\124\40\111\x4e\124\x4f\40\x6f\x63\x5f\141\164\x74\x72\151\x62\165\x74\145\x5f\x67\x72\x6f\165\160\x5f\x64\x65\x73\143\x72\x69\160\x74\x69\157\x6e\40\123\x45\124\x20\x61\164\164\162\x69\142\x75\164\x65\x5f\147\x72\x6f\x75\160\x5f\x69\144\40\75\40\x27" . (int) $f7 . "\x27\54\40\154\141\x6e\x67\x75\x61\x67\145\137\x69\144\40\75\x20\x27" . (int) $Bc . "\x27\x2c\40\156\x61\x6d\x65\40\x3d\x20\47" . escape($A9["\x6e\141\155\145"]) . "\47"); Ea8: } C5b: return $f7; } function F5() { goto F8d; F8d: $attributes = g("\141\164\164\162\151\x62\165\164\145\163"); if (!empty($attributes)) { goto a2c; } return array(); a2c: $a8 = array(); goto c88; c3f: $d0 = ''; $F3 = 1; $f6 = 0; $E5 = array(); foreach ($a8 as $A9) { goto f05; Ff7: if (!g("\163\153\x69\160")) { goto A1d; } $ac = rand(10000, 100000); goto B2d; A1d: xlog("\74\x66\x6f\x6e\x74\40\x63\157\154\x6f\162\75\x27\147\162\145\x79\x27\x3e\x43\162\x65\141\x74\x69\x6e\147\40\x3c\142\76{$D7}\x3c\57\x62\x3e\x20\x61\x74\x74\162\x69\142\165\x74\145\x2e\56\x2e\74\x2f\x66\157\x6e\x74\x3e"); goto Dc3; b9a: if ($f6) { goto F5b; } $C4 = ''; if (empty($Fe[$C4])) { goto A07; } $f6 = $Fe[$C4]; goto b9e; goto d0c; B7d: if (g("\x69\x6e\x63\x6f\x6d\x69\156\147\x5f\x6c\x61\x6e\x67\x75\141\x67\145")) { goto e69; } $Ba = $D7; goto e63; e69: $Ba = F7(translate($D7, g("\x69\156\143\157\x6d\x69\x6e\x67\137\154\x61\x6e\x67\x75\141\x67\x65"), g("\x64\x65\146\x61\x75\154\x74\x5f\154\141\x6e\x67"))); goto C2f; C2f: e63: $a3 = $A9["\166\141\x6c\165\145"]; if (!($Ba != '' and $a3 == $f8)) { goto ee6; } $d0 = $Ba; ee6: goto d65; d0c: A07: xlog("\x3c\x66\157\156\x74\40\143\x6f\x6c\157\162\75\x27\x67\x72\x65\171\47\x3e\103\x72\x65\141\x74\x69\156\147\40\x64\x65\146\141\165\x6c\x74\x20\x61\x74\164\162\151\142\x75\x74\x65\40\x67\x72\x6f\165\160\74\x2f\x66\x6f\156\164\76"); $f6 = ba(array("\x73\157\x72\164\137\x6f\162\x64\145\x72" => -1, "\141\x74\x74\162\151\142\x75\x74\x65\137\x67\x72\x6f\165\x70\137\144\145\163\143\x72\151\x70\164\151\x6f\156" => c4($C4, "\x6e\141\x6d\x65"))); b9e: if (isset($Fc[$f6])) { goto Ed8; } goto a63; f4a: foreach ($Fc[$f6] as $e8 => $A9) { if (!($A9["\156\141\155\x65"] == $Ba || f7($A9["\x6e\141\155\145"]) == $Ba)) { goto e46; } $ac = $A9["\x61\x74\x74\x72\151\x62\165\164\x65\137\x69\144"]; e46: ec4: } cc0: cb1: if (!($ac == 0)) { goto e08; } $C8 = C4($D7, "\156\x61\155\145"); goto Ff7; f05: $D7 = $A9["\x6e\x61\155\x65"]; if (!($d0 == '')) { goto ed8; } $d0 = $Cd; ed8: if (!in_array($d0 . $D7, $E5)) { goto fa4; } goto f73; Ae6: Ffd: query("\101\x4c\x54\105\x52\40\124\101\x42\114\105\x20\157\143\137\141\x74\164\x72\151\142\165\164\145\137\144\x65\x73\x63\162\x69\160\x74\151\x6f\x6e\x20\x4d\117\x44\x49\106\131\x20\156\141\x6d\145\x20\126\101\122\x43\x48\101\x52\x28\x32\x30\x34\70\51\x20\103\x48\x41\122\x41\103\x54\105\x52\40\x53\105\124\40\165\x74\146\x38"); B2d: $F3 += 1; e08: goto ea1; ea1: $c3 = c4($a3, "\x74\145\170\x74"); $b4[] = array("\x6e\141\155\x65" => $Ba, "\141\x74\164\162\151\x62\165\164\x65\x5f\151\x64" => $ac, "\x70\162\x6f\144\165\143\x74\137\x61\x74\x74\x72\x69\142\x75\x74\145\x5f\144\x65\163\143\x72\151\160\164\151\x6f\x6e" => $c3); Fd8: Af4: goto Fac; a63: $Fc[$f6] = Bc("\155\x6f\144\145\x6c\x5f\x63\141\164\141\154\x6f\147\137\x61\164\164\x72\x69\142\165\164\x65")->getAttributes(array("\x66\x69\154\x74\145\x72\x5f\x61\x74\164\x72\x69\142\165\x74\x65\x5f\147\162\157\x75\160\137\x69\x64" => $f6)); Ed8: F5b: $ac = 0; if (!(count($Fc[$f6]) > 0)) { goto cb1; } goto f4a; Dc3: $ac = DE(array("\141\x74\x74\x72\151\x62\x75\164\145\x5f\x67\162\157\x75\160\x5f\x69\144" => $f6, "\x73\157\x72\164\x5f\157\x72\x64\145\162" => 10 * $F3, "\x61\x74\164\x72\x69\x62\x75\x74\145\x5f\x64\145\x73\143\162\151\x70\x74\151\157\156" => $C8)); $Fc[$f6][] = array("\x6e\x61\x6d\145" => $Ba, "\x61\x74\164\x72\151\142\x75\x74\145\137\151\x64" => $ac); $a5 = query("\x53\105\114\105\103\124\x20\x6e\141\155\145\x20\106\x52\117\115\x20\x6f\143\137\141\x74\x74\162\x69\142\x75\x74\x65\137\144\145\x73\x63\162\151\160\x74\x69\157\x6e\x20\127\x48\x45\x52\x45\x20\x6c\141\156\147\165\x61\147\145\x5f\151\x64\x3d" . g("\x64\x65\x66\x61\x75\154\164\x5f\x6c\141\156\147\x5f\151\x64") . "\40\x4f\122\x44\105\122\x20\102\131\40\141\x74\164\x72\x69\142\x75\164\145\x5f\x69\144\40\104\105\x53\103\x20\114\111\x4d\x49\124\40\x31")->row["\156\141\x6d\x65"]; if (!($Ba != $a5)) { goto Ffd; } xlog("\x57\101\x52\116\x49\x4e\x47\x3a\40\x43\x72\145\141\164\145\144\x20\141\164\x74\162\x69\x62\165\x74\145\40\163\x61\x76\145\x20\x6e\x61\x6d\145\x20\155\x69\x73\155\x61\164\143\150\72\40\47{$Ba}\x27\x20\55\x3e\x20\47{$a5}\x27"); goto Ae6; Abd: goto D76; dc4: xlog("\74\x66\157\156\164\x20\143\157\154\x6f\162\75\x27\x67\x72\x65\x79\x27\76\x43\162\145\141\164\151\x6e\147\x20\141\164\164\162\151\x62\x75\164\x65\x20\x67\162\x6f\165\160\40\74\x62\76{$D7}\74\57\142\76\x3c\57\x66\x6f\x6e\x74\x3e"); $f6 = BA(array("\x73\x6f\162\x74\137\x6f\162\x64\x65\x72" => $z_order++, "\x61\x74\x74\x72\x69\x62\x75\164\x65\x5f\147\x72\157\x75\x70\x5f\144\x65\163\x63\162\151\160\x74\151\157\156" => $A1)); $a5 = query("\123\x45\x4c\105\x43\x54\x20\156\141\155\x65\x20\106\122\117\x4d\x20\x6f\x63\137\x61\164\164\162\151\142\165\164\x65\137\147\x72\157\x75\160\137\144\145\x73\143\162\151\160\164\151\x6f\x6e\x20\40\x57\110\105\x52\x45\x20\x6c\x61\156\147\165\x61\x67\x65\137\151\x64\75" . g("\144\145\146\x61\x75\x6c\164\137\x6c\141\156\x67\x5f\x69\x64") . "\40\117\x52\x44\x45\x52\40\102\131\40\141\164\x74\162\x69\142\x75\x74\x65\137\x67\162\x6f\165\x70\137\x69\144\40\x44\105\123\x43\x20\114\x49\115\111\124\x20\x31")->row["\x6e\x61\x6d\145"]; goto f51; f71: D76: goto ad2; dfb: $f6 = $Fe[$d0]; if (isset($Fc[$f6])) { goto E91; } goto a0b; d65: if (!($d0 != '')) { goto D0f; } if (isset($Fe[$d0])) { goto dfb; } $A1 = c4($D7, "\x6e\141\x6d\x65"); if (!g("\163\x6b\151\160")) { goto dc4; } $f6 = rand(10000, 100000); goto Abd; a0b: $Fc[$f6] = bc("\x6d\x6f\144\x65\x6c\x5f\143\141\164\141\x6c\157\x67\137\x61\x74\164\162\x69\x62\165\164\145")->getAttributes(array("\x66\151\x6c\164\145\x72\x5f\141\x74\164\x72\x69\x62\x75\x74\x65\137\x67\162\x6f\x75\x70\x5f\x69\x64" => $f6)); E91: ad2: D0f: if (!($a3 != $f8)) { goto Fd8; } goto b9a; f51: if (!($d0 != $a5)) { goto e60; } xlog("\x57\x41\x52\116\x49\x4e\x47\72\x20\103\x72\x65\141\164\145\144\x20\141\164\x74\x72\x69\142\165\164\145\x20\x67\x72\157\x75\x70\x20\163\x61\x76\145\40\156\x61\x6d\x65\x20\155\151\x73\155\141\164\143\150\x3a\x20\x27{$d0}\47\x20\x2d\76\x20\x27{$a5}\47"); e60: $Fc[$f6] = array(); $Fe[$d0] = $f6; goto f71; f73: goto Af4; fa4: if (!($A9["\x76\x61\154\x75\x65"] != $f8)) { goto fd2; } $E5[] = $d0 . $D7; fd2: goto B7d; Fac: } goto adf; c88: $cf = array_keys($attributes); if (!(!is_numeric(reset($cf)) and !is_array(reset($attributes)))) { goto B10; } foreach ($attributes as $name => $A9) { $a8[] = $name; $a8[] = $A9; f92: } b6c: $attributes = $a8; goto d46; C50: if (!(count($a8) > 0)) { goto F32; } $Cd = ''; static $Fe, $Fc; if ($Fe) { goto Da4; } C9("\143\141\164\x61\x6c\157\x67\x2f\x61\x74\x74\x72\151\142\x75\x74\x65\x5f\x67\x72\157\x75\x70"); goto f5c; d46: B10: $f8 = "\137\x67\147"; if (is_array(reset($attributes))) { goto d4a; } $a8 = $attributes; goto Ff0; goto d3b; f5c: C9("\143\141\x74\x61\154\157\147\57\x61\x74\164\162\151\142\x75\x74\x65"); $d7 = bC("\x6d\157\144\x65\x6c\137\x63\141\x74\141\154\157\x67\137\x61\164\164\x72\x69\142\x75\x74\145\137\x67\x72\157\x75\160")->getAttributeGroups(); foreach ($d7 as $A9) { $Fe[$A9["\156\141\155\145"]] = $A9["\x61\164\x74\162\x69\x62\165\164\145\x5f\147\162\157\x75\x70\x5f\151\x64"]; D35: } F64: Da4: goto c3f; D6b: $name = false; $e9 = array(); foreach ($a8 as $F1) { goto f68; e66: $name = trim($F1); if (!(substr($name, -1) == "\x3a")) { goto F07; } $name = trim(substr($name, 0, -1)); F07: be2: goto A4b; f68: $F1 = F7(trim($F1)); if ($B6) { goto b8a; } $e9[] = array("\x6e\x61\155\x65" => $name, "\166\x61\154\x75\x65" => $F1); goto be2; b8a: goto e66; A4b: $B6 = !$B6; d8b: goto Add; Add: } Cc7: if ($e9) { goto Bca; } goto dd1; dd1: return array(); Bca: $a8 = $e9; $b4 = array(); $z_order = 100; goto C50; d3b: d4a: foreach (array_keys($attributes) as $B5) { goto F69; F69: $a8[] = $B5; $a8[] = $f8; $Ee = array_keys($attributes[$B5]); if (is_numeric(reset($Ee))) { goto Aa6; } foreach ($attributes[$B5] as $dc => $A9) { if (trim($dc)) { goto a16; } goto Ce0; a16: $a8[] = $dc; $a8[] = $A9; Ce0: } goto f3d; f3d: ac2: goto B8a; Aa6: foreach ($attributes[$B5] as $A9) { $a8[] = $A9; a3c: } e73: goto Aec; Aec: B8a: c60: goto e87; e87: } F77: Ff0: $B6 = true; goto D6b; adf: B8b: F32: return $b4; goto F6d; F6d: } function is_image($Aa) { return strpos($Aa, "\x3a\x2f\57") || substr($Aa, 0, 5) == "\x64\x61\164\x61\x2f"; } goto c6f; F65: goto faa; aad: if (VERSION >= "\x32\56\x32") { goto Ac1; } if (E9) { goto d45; } require_once DIR_SYSTEM . "\163\x74\141\162\x74\x75\x70\x2e\160\150\x70"; goto cd7; bea: foreach ($F6->get("\x61\x63\x74\151\157\x6e\137\x65\x76\x65\156\x74") as $B5 => $A9) { $event->register($B5, new Action($A9)); d97: } Aed: C8b: $loader = new Loader($registry); $registry->set("\154\x6f\x61\144", $loader); goto Fec; fbf: $registry->set("\x6c\x6f\x61\144", $loader); $F6 = new Config(); $registry->set("\143\157\156\146\151\147", $F6); $db = new DB(DB_DRIVER, DB_HOSTNAME, DB_USERNAME, DB_PASSWORD, DB_DATABASE); $registry->set("\x64\x62", $db); goto e98; C3a: function product_missing($product_id, $Ad) { goto Abf; cde: query("\125\x50\104\x41\124\105\x20\x6f\x63\x5f\160\162\157\144\x75\143\164\40\x53\x45\x54\x20\x71\165\x61\156\164\151\164\171\x20\x3d\40\60\x20\x57\x48\x45\x52\x45\40\x70\162\x6f\x64\165\143\164\x5f\151\x64\x20\75\40" . $product_id); goto Ade; a89: query("\x55\120\104\101\x54\105\40\x6f\x63\137\160\162\x6f\x64\x75\143\x74\x20\x53\x45\x54\40\161\x75\141\156\x74\x69\x74\171\x20\x3d\40\60\x20\x57\110\x45\x52\105\x20\160\162\x6f\144\165\143\164\x5f\151\144\40\75\40" . $product_id); query("\104\105\114\x45\x54\105\40\x46\122\117\115\x20\157\143\x5f\160\162\x6f\144\x75\143\164\x5f\164\x6f\137\143\141\164\145\x67\157\162\171\40\x57\110\105\122\x45\40\160\162\157\144\x75\x63\164\x5f\x69\x64\40\75\40" . $product_id); goto Af5; Abf: if ($Ad == "\x73\164\x6f\x63\153") { goto aa4; } if ($Ad == "\x68\151\x64\x65") { goto a89; } if ($Ad == "\x64\x69\163\x61\142\154\x65") { goto f59; } goto Ade; aa4: goto cde; Af5: goto Ade; f59: query("\125\x50\104\x41\124\105\40\x6f\x63\x5f\x70\162\x6f\x64\165\143\x74\x20\x53\x45\x54\40\163\164\141\164\165\x73\40\75\x20\60\x20\127\110\x45\x52\x45\x20\160\x72\157\x64\x75\x63\164\x5f\x69\x64\x20\75\40" . $product_id); Ade: goto Aeb; Aeb: } function b3($A2, $e4) { global $D0; $name = product_name($e4); xlog("\116\x4f\x54\111\103\x45\x3a\x20\x4d\151\163\163\151\156\147\x20\74\141\x20\x74\x61\162\x67\x65\164\x3d\x27\137\142\154\x61\156\x6b\x27\40\150\x72\145\x66\x3d\47" . HTTP_CATALOG . "\x69\x6e\x64\x65\x78\x2e\x70\150\x70\77\162\x6f\x75\164\145\x3d\x70\162\x6f\x64\x75\143\164\57\x70\162\x6f\144\x75\x63\164\46\160\162\157\144\x75\x63\164\x5f\151\144\75{$e4}\47\76{$name}\74\57\x61\x3e"); if ($D0["\155\151\163\163\151\156\147"] == '') { goto f93; } product_missing($e4, $D0["\x6d\151\x73\163\x69\x6e\x67"]); goto Ecc; f93: c6($A2, $e4); Ecc: } function DD($mask) { $bd = glob($mask); if ($bd) { goto C65; } return; C65: foreach ($bd as $d2) { @unlink($d2); F15: } c40: } function eB($D3) { if ($D3) { goto D0b; } return; D0b: dD(DIR_IMAGE . "\143\141\x63\150\x65\x2f" . substr($D3, 0, strrpos($D3, "\56")) . "\52"); } function FindOrphanProducts($fa = false) { goto bb0; bb0: $D1 = query("\x53\x45\x4c\x45\103\124\40\160\x72\x6f\144\165\143\164\137\151\x64\40\x46\122\117\115\x20" . DB_PREFIX . "\x70\162\x6f\144\165\x63\164\40\x70\40\114\105\106\124\x20\112\x4f\x49\116\40\x70\141\x72\x73\x65\155\170\137\x65\156\164\x69\x74\x69\145\x73\40\x65\40\x4f\116\40\x28\160\56\x70\162\x6f\144\165\143\x74\137\x69\144\40\75\x20\145\56\160\x6c\141\164\x66\x6f\x72\x6d\137\151\144\51\x20\127\x48\105\x52\x45\40\151\x6d\141\147\x65\x20\x4c\111\x4b\x45\40\x27\45\x2f\154\x69\57\45\x27\40\x41\x4e\104\40\111\x53\116\x55\114\x4c\x28\x70\154\141\x74\x66\x6f\162\x6d\137\151\144\x29")->rows; if ($fa) { goto E4a; } $D6 = array(); foreach ($D1 as $F0) { $D6[] = $F0["\160\x72\157\144\165\143\x74\137\151\144"]; e86: } Dbe: goto D27; ec9: ba1: C89: foreach ($D1 as $F0) { C0($F0["\160\162\x6f\x64\x75\143\x74\137\151\x64"]); C2c: } a51: goto A34; D27: return $D6; E4a: if (!(ini_get("\x6d\x61\170\x5f\x65\170\x65\x63\165\x74\151\x6f\156\137\164\x69\x6d\145") < 600)) { goto C89; } if (ini_get("\163\141\x66\x65\x5f\155\x6f\x64\x65")) { goto ba1; } set_time_limit(600); goto ec9; A34: } goto D50; cd7: if (c2) { goto ddc; } @(require_once DIR_SYSTEM . "\x6c\x69\x62\162\141\162\171\x2f\x63\165\x72\x72\145\x6e\x63\171\x2e\160\150\x70"); require_once DIR_SYSTEM . "\x6c\151\x62\x72\141\162\x79\x2f\x75\163\145\162\56\x70\x68\x70"; require_once DIR_SYSTEM . "\x6c\x69\142\x72\141\162\171\x2f\x77\145\x69\147\150\164\x2e\x70\x68\160"; require_once DIR_SYSTEM . "\154\x69\x62\162\x61\162\x79\x2f\x6c\x65\156\x67\x74\x68\x2e\x70\x68\160"; goto Dcc; b8e: if (!$F6->has("\x63\157\x6e\x66\x69\x67\137\x61\165\x74\x6f\x6c\x6f\141\x64")) { goto bff; } foreach ($F6->get("\143\x6f\x6e\x66\x69\x67\137\x61\x75\164\x6f\x6c\157\x61\144") as $A9) { $loader->config($A9); c3a: } A02: bff: if (!$F6->has("\x6c\x61\x6e\x67\x75\141\x67\x65\137\x61\x75\x74\x6f\154\157\141\x64")) { goto D2c; } goto e24; D7b: $log = new Log($F6->get("\x63\157\156\146\x69\x67\x5f\x65\x72\162\157\x72\137\x66\151\154\145\x6e\141\x6d\x65")); $registry->set("\154\157\x67", $log); $request = new Request(); $registry->set("\162\145\161\x75\x65\x73\164", $request); $response = new Response(); goto d47; E2c: function c5() { $ef = inside("\x56\105\122\x53\x49\x4f\116\47\54\x20\x27", "\47", file_get_contents(dd . "\151\156\x64\145\x78\x2e\x70\x68\160")); if ($ef) { goto Dd; } xwarn("\106\x61\x69\154\145\x64\x20\x74\157\x20\144\145\x74\145\x63\x74\x20\117\160\145\156\103\x61\162\x74\40\x76\x65\x72\x73\151\x6f\x6e\x2c\x20\x63\150\145\143\153\40\171\157\165\162\40\x69\156\x64\x65\170\56\x70\x68\160\x20\x66\x69\154\145"); Dd: return $ef; } function bB($a7) { query("\111\116\123\105\x52\x54\40\x49\116\x54\x4f\x20\157\x63\x5f\x72\x65\166\151\145\x77\x20\123\x45\x54\40\141\165\164\x68\x6f\162\40\x3d\40\x27" . escape($a7["\x61\165\x74\150\157\x72"]) . "\47\x2c\40\x70\x72\157\x64\165\x63\x74\137\151\144\x20\x3d\x20\x27" . escape($a7["\160\x72\157\x64\x75\x63\164\137\x69\144"]) . "\47\54\40\x74\x65\170\x74\40\x3d\40\47" . escape($a7["\164\145\x78\164"]) . "\47\54\x20\162\x61\164\151\156\x67\x20\x3d\x20\x27" . (int) $a7["\162\x61\164\151\156\147"] . "\x27\54\x20\x73\x74\141\x74\165\x73\40\x3d\x20\47" . (int) $a7["\x73\164\x61\x74\x75\163"] . "\47\x2c\x20\144\141\x74\145\x5f\141\x64\x64\x65\144\x20\x3d\x20\x27" . $a7["\144\x61\x74\x65\x5f\141\x64\x64\x65\x64"] . "\47"); } function eD($product_id) { goto cd9; aba: D2: goto fff; cd9: global $update_reviews, $reviews; if ($update_reviews) { goto c4; } return; c4: if ($reviews) { goto Ce; } goto F53; F52: $B1 = rand(1 * 60 * 60 * 24 * 30, 7 * 60 * 60 * 24 * 30); $be = (int) ($B1 / count($reviews) * 2); d7: $A7 = time(); foreach ($reviews as $ea) { goto ab; a78: query("\111\x4e\x53\x45\x52\124\x20\111\116\x54\117\40\160\141\162\163\145\155\x78\137\x72\145\x76\151\145\167\x73\x20\123\x45\x54\x20\162\x65\166\151\145\x77\137\x69\x64\75{$D8}\54\x20\x70\x72\157\x64\x75\143\164\137\x69\144\x3d{$product_id}\54\40\x68\141\163\150\75\x27{$a1}\47"); A7: goto Ba3; F0: $a7["\x73\x74\x61\x74\x75\163"] = 1; $a7["\162\x61\x74\151\156\147"] = 5; $a7["\144\x61\x74\x65\137\141\x64\144\145\x64"] = date("\x59\55\x6d\x2d\144\40\x48\x3a\151\x3a\x73", $A7); if ($De) { goto Cd; } $A7 -= rand(60, $be); goto Be; D9: $ab = substr($ea, 0, $B6); $ab = preg_replace("\57\133\x5e\x30\x2d\65\x5d\57\x75\151", '', $ab); if (!$ab) { goto F2; } $a7["\x72\x61\x74\151\156\x67"] = $ab[0]; F2: goto d30; ab: if (trim($ea)) { goto B0; } goto A7; B0: $a1 = sha1($ea); $D1 = query("\123\105\x4c\x45\103\x54\x20\162\145\x76\151\145\x77\x5f\151\144\x20\x46\x52\117\x4d\x20\x70\141\x72\x73\x65\155\x78\x5f\162\145\x76\151\x65\167\163\40\x57\110\105\122\x45\40\150\141\x73\150\75\47{$a1}\47\x20\141\x6e\144\x20\160\162\157\x64\x75\143\164\137\x69\144\x3d{$product_id}")->row; goto B3; Be: goto C3; Cd: $A7 -= rand(60, 60 * 60 * 24); C3: if (!(($B6 = strpos($ea, "\52")) !== false)) { goto e6; } goto D9; d30: $ea = substr($ea, $B6 + 1); e6: $a7["\141\x75\164\x68\157\x72"] = ''; if (!($ea[0] == "\133")) { goto D4; } $a7["\x61\165\x74\x68\x6f\x72"] = trim(substr($ea, 1, strpos($ea, "\x5d") - 1)); goto f67; f67: $ea = substr($ea, strpos($ea, "\135") + 1); D4: $a7["\x74\145\x78\x74"] = $ea; Bb($a7); $D8 = d9("\x72\145\x76\151\x65\x77"); goto a78; B3: if (!$D1) { goto c6; } goto A7; c6: $a7 = array(); $a7["\160\162\157\144\165\x63\x74\x5f\151\x64"] = $product_id; goto F0; Ba3: } goto aba; F53: return; Ce: $D1 = query("\x53\x45\x4c\x45\x43\124\x20\103\x4f\x55\x4e\124\50\52\x29\40\x61\163\40\x6e\40\x46\122\x4f\x4d\x20\x70\x61\162\163\x65\155\170\137\162\145\x76\151\x65\x77\163\40\x57\110\x45\122\105\40\160\x72\157\x64\x75\x63\x74\137\x69\144\75{$product_id}")->row; $De = $D1["\156"]; if ($De) { goto d7; } goto F52; fff: } function send_admin_message($Af, $f3) { goto d55; d55: $a4 = new Mail(); global $F6; $a4->protocol = $F6->get("\143\157\156\146\x69\147\x5f\x6d\x61\x69\154\137\160\x72\x6f\164\x6f\x63\157\154"); $a4->parameter = $F6->get("\143\x6f\156\146\151\x67\x5f\x6d\141\151\154\x5f\x70\141\162\141\155\x65\164\145\162"); $a4->hostname = $F6->get("\x63\157\156\146\x69\147\137\x73\x6d\164\x70\x5f\x68\x6f\x73\x74"); goto D1c; D1c: $a4->username = $F6->get("\143\157\156\146\151\x67\137\163\x6d\x74\160\x5f\x75\x73\x65\x72\156\x61\x6d\145"); $a4->password = $F6->get("\x63\157\x6e\146\x69\147\x5f\163\155\x74\160\x5f\160\141\163\x73\167\x6f\x72\x64"); $a4->port = $F6->get("\143\157\x6e\x66\x69\147\137\x73\155\164\160\137\160\x6f\x72\164"); $a4->timeout = $F6->get("\x63\157\x6e\146\x69\147\x5f\x73\155\164\160\x5f\164\151\155\145\x6f\x75\x74"); $a4->setTo($F6->get("\143\x6f\156\146\151\x67\137\145\155\141\151\154")); goto A5d; A5d: $a4->setFrom($F6->get("\143\157\156\x66\151\147\137\x65\155\x61\151\154")); $a4->setSender($F6->get("\x63\157\x6e\x66\x69\147\137\x6e\x61\x6d\145")); $a4->setSubject($Af); $a4->setText($f3); $a4->send(); goto c2d; c2d: } function attribute($name, $C9 = '') { if ($C9) { goto daf; } $C9 = g("\x61\x74\x74\x72\151\142\x75\164\145\x73"); daf: if (is_array(reset($C9))) { goto A27; } $C9 = array($C9); A27: foreach ($C9 as $C5) { $fb = true; $D2 = false; foreach ($C5 as $A9) { if (!($fb and trim(str_replace("\x3a", '', $A9)) == $name)) { goto c06; } $D2 = true; c06: if (!(!$fb and $D2)) { goto Ca1; } return $A9; Ca1: $fb = !$fb; ff8: } afd: Bea: } Bf3: return ''; } goto b12; A33: foreach ($c07->rows as $D6) { $languages[$D6["\143\157\144\145"]] = $D6; B35: } e57: $F6->set("\143\x6f\156\146\x69\x67\137\x6c\141\x6e\147\x75\x61\147\145\x5f\x69\144", $languages[$F6->get("\143\157\x6e\x66\151\147\137\141\144\155\151\156\137\154\141\156\x67\165\x61\147\145")]["\x6c\x61\x6e\147\x75\x61\x67\145\137\151\x64"]); $language = new Language($languages[$F6->get("\143\x6f\x6e\x66\x69\x67\x5f\141\144\155\151\x6e\x5f\x6c\141\x6e\x67\165\x61\147\145")]["\144\151\162\145\x63\164\x6f\162\x79"]); if (!empty($languages[$F6->get("\143\157\156\146\151\x67\x5f\x61\x64\155\x69\156\137\x6c\x61\156\147\165\141\x67\145")]["\146\151\x6c\x65\x6e\x61\155\145"])) { goto B18; } goto Db6; b57: D86: Ab2: if (!$F6->has("\x6d\157\144\x65\x6c\137\x61\x75\164\157\x6c\x6f\x61\144")) { goto af2; } foreach ($F6->get("\x6d\157\144\145\154\137\141\165\x74\157\x6c\x6f\x61\144") as $A9) { $loader->model($A9); dc0: } ac9: goto D13; e98: $c07 = $db->query("\x53\105\114\105\103\124\40\x2a\40\x46\122\117\x4d\x20" . DB_PREFIX . "\x73\x65\x74\x74\151\156\147\40\x57\110\105\x52\x45\x20\x73\x74\x6f\162\x65\137\151\144\x20\x3d\x20\47\x30\x27"); foreach ($c07->rows as $setting) { goto A80; A80: if (!$setting["\x73\x65\x72\151\x61\x6c\x69\172\145\144"]) { goto Efd; } if ($setting["\166\141\x6c\165\145"][0] == "\x7b" || $setting["\x76\141\154\165\145"][0] == "\x5b") { goto D3e; } $F6->set($setting["\x6b\x65\171"], unserialize($setting["\166\x61\154\x75\145"])); goto e3b; D3e: goto aa8; aa8: $F6->set($setting["\x6b\x65\171"], json_decode($setting["\x76\141\x6c\165\145"], true)); e3b: goto B4d; Efd: $F6->set($setting["\153\x65\171"], $setting["\166\141\x6c\x75\145"]); goto d70; d70: B4d: F79: goto A26; A26: } E51: $url = new Url(HTTP_SERVER, $F6->get("\x63\157\156\x66\151\x67\x5f\165\x73\145\137\x73\x73\154") ? HTTPS_SERVER : HTTP_SERVER); $registry->set("\x75\162\x6c", $url); goto D7b; Fec: $registry->set("\x72\145\x71\165\145\163\x74", new Request()); if (!$F6->get("\x64\x62\x5f\141\x75\164\157\163\x74\141\x72\x74")) { goto De6; } $db = new DB($F6->get("\144\x62\137\164\x79\x70\x65"), $F6->get("\x64\142\x5f\150\157\163\164\156\x61\155\x65"), $F6->get("\x64\142\137\x75\x73\x65\x72\x6e\x61\155\145"), $F6->get("\x64\x62\137\160\x61\163\163\167\157\162\144"), $F6->get("\x64\142\137\x64\x61\x74\141\142\x61\163\x65"), $F6->get("\144\x62\x5f\x70\157\162\x74")); $registry->set("\x64\x62", $db); De6: goto D1f; Dd2: $vqmod = new VQMod(); require_once $vqmod->modCheck(DIR_SYSTEM . "\x73\x74\x61\162\x74\165\160\x2e\160\x68\160"); @(require_once $vqmod->modCheck(DIR_SYSTEM . "\154\151\142\162\x61\x72\x79\x2f\x63\165\x72\162\145\156\x63\x79\56\160\150\160")); require_once $vqmod->modCheck(DIR_SYSTEM . "\x6c\x69\142\x72\141\x72\171\x2f\165\x73\x65\162\x2e\160\150\160"); require_once $vqmod->modCheck(DIR_SYSTEM . "\x6c\151\142\x72\x61\162\x79\57\x77\x65\x69\147\150\164\x2e\160\150\160"); goto C3c; B56: $session = new Session(); $registry->set("\x73\145\163\163\x69\x6f\156", $session); $user = new User($registry); $registry->set("\x75\x73\x65\162", $user); da9: goto Eef; e24: foreach ($F6->get("\154\141\156\x67\x75\141\x67\x65\x5f\x61\x75\x74\157\x6c\157\141\x64") as $A9) { $loader->language($A9); C60: } ff9: D2c: if (!$F6->has("\154\151\x62\x72\141\x72\x79\x5f\141\x75\x74\157\154\157\141\144")) { goto Ab2; } foreach ($F6->get("\x6c\151\x62\162\x61\162\x79\x5f\x61\x75\164\157\x6c\157\x61\x64") as $A9) { $loader->library($A9); B4e: } goto b57; Dd8: define("\x64\x64", "\56\x2e\57"); define("\126\x45\122\x53\x49\117\x4e", C5()); define("\154\x69\137\x70\x6c\141\x74\146\x6f\162\155", "\117\160\145\x6e\x43\141\x72\164\40" . VERSION); define("\116\117\137\x49\116\106\x4f\122\x4d\101\x54\111\x56\x45\137\x45\122\122\117\x52\x53", "\164\162\x75\145"); require_once dd . "\x63\x6f\156\146\x69\147\56\160\x68\160"; goto E00; C09: if (defined("\x66\x75\x6c\x6c\x5f\160\154\x61\x74\x66\157\162\x6d\x5f\154\157\141\x64")) { goto aad; } if (!ini_get("\x6d\141\147\x69\143\137\x71\x75\x6f\x74\145\163\137\147\160\143")) { goto bef; } function dC($a7) { if (is_array($a7)) { goto Ac8; } $a7 = stripslashes($a7); goto E06; Ac8: foreach ($a7 as $B5 => $A9) { $a7[Dc($B5)] = dc($A9); e58: } Eb8: E06: return $a7; } $_GET = dC($_GET); $_POST = dc($_POST); goto F9d; F26: $event = new Event($registry); $registry->set("\x65\166\145\156\x74", $event); $c07 = $db->query("\x53\105\114\x45\x43\124\x20\52\x20\x46\x52\x4f\115\40" . DB_PREFIX . "\145\x76\x65\x6e\x74"); foreach ($c07->rows as $D6) { $event->register($D6["\x74\x72\151\x67\x67\145\162"], $D6["\x61\x63\x74\151\x6f\156"]); F05: } d09: goto B6c; dcd: A37: $language = new Language($F6->get("\154\x61\156\x67\165\141\x67\x65\137\144\x65\x66\141\165\154\x74")); $language->load($F6->get("\x6c\x61\156\x67\165\x61\x67\x65\137\144\145\146\x61\165\x6c\x74")); $registry->set("\154\141\x6e\147\x75\x61\x67\145", $language); $registry->set("\x64\157\143\165\x6d\x65\156\164", new Document()); goto b8e; F9d: $_REQUEST = Dc($_REQUEST); $_COOKIE = Dc($_COOKIE); bef: require_once DIR_SYSTEM . "\154\x69\x62\162\x61\x72\x79\57\x72\x65\x71\165\145\163\x74\x2e\160\x68\x70"; $request = new Request(); goto B71; bf5: foreach ($c07->rows as $D6) { $languages[$D6["\143\x6f\x64\145"]] = $D6; e78: } f8a: $loader->controller("\163\164\141\x72\164\x75\160\x2f\x73\164\x61\162\x74\165\160"); Bce: Fb7: goto E3a; Db6: $languages[$F6->get("\143\157\156\x66\x69\147\x5f\x61\144\x6d\151\x6e\137\x6c\x61\x6e\147\165\x61\x67\x65")]["\x66\151\x6c\145\156\x61\x6d\x65"] = $languages[$F6->get("\x63\x6f\x6e\146\151\147\x5f\141\x64\155\x69\x6e\137\x6c\141\x6e\147\x75\141\x67\145")]["\x64\151\162\x65\143\164\157\x72\x79"]; B18: $language->load($languages[$F6->get("\x63\x6f\156\x66\x69\147\x5f\x61\x64\x6d\x69\156\137\154\141\156\147\165\141\x67\x65")]["\146\151\x6c\145\156\x61\155\145"]); $registry->set("\154\141\156\x67\x75\x61\147\145", $language); $document = new Document(); goto b64; f37: $registry->set("\x73\x65\163\x73\x69\157\156", $session); edd: $registry->set("\143\x61\x63\150\145", new Cache($F6->get("\143\141\x63\150\145\137\164\x79\x70\x65"), $F6->get("\143\141\x63\x68\145\x5f\145\x78\x70\x69\162\x65"))); if (!$F6->get("\x75\x72\154\137\141\165\164\157\163\164\141\162\164")) { goto A37; } $registry->set("\165\162\154", new Url($F6->get("\163\x69\x74\145\x5f\x62\x61\x73\145"), $F6->get("\x73\151\164\145\137\x73\x73\x6c"))); goto dcd; E6e: if ($a5f) { goto ef8; } $a5f = $F6->get("\143\x6f\x6e\x66\151\147\137\141\144\x6d\x69\x6e\x5f\154\141\x6e\x67\x75\x61\x67\x65"); ef8: if ($a5f) { goto ac5; } $a5f = $F6->get("\154\x61\156\147\x75\x61\x67\145\x5f\x64\x65\146\141\165\154\x74"); goto f45; cf8: if (c2) { goto bb1; } @(require_once VQMod::modCheck(DIR_SYSTEM . "\154\x69\x62\x72\141\162\171\57\x63\x75\162\x72\x65\156\x63\x79\56\160\x68\x70")); require_once VQMod::modCheck(DIR_SYSTEM . "\154\x69\x62\162\x61\162\x79\57\x75\163\x65\x72\56\x70\150\160"); require_once VQMod::modCheck(DIR_SYSTEM . "\x6c\x69\x62\x72\x61\x72\171\x2f\167\x65\x69\x67\150\164\56\x70\150\x70"); require_once VQMod::modCheck(DIR_SYSTEM . "\x6c\x69\x62\x72\x61\x72\x79\x2f\154\145\x6e\x67\164\x68\56\160\x68\x70"); goto B3a; B8e: $F6->load("\141\x64\155\x69\156"); $registry->set("\x63\157\x6e\x66\x69\x67", $F6); $event = new Event($registry); $registry->set("\145\x76\145\156\x74", $event); if (!$F6->has("\141\143\x74\151\x6f\156\x5f\145\166\x65\156\164")) { goto C8b; } goto bea; c6f: function sort_options() { goto cac; A68: foreach ($options as $C2) { $B9[$C2["\156\141\x6d\145"]] = $C2; B79: } ad4: ksort($B9); $da = 0; foreach ($B9 as $C2) { if ($C2["\x73\157\162\164\137\157\162\144\x65\x72"] <= $da) { goto f79; } $da = $C2["\163\157\x72\164\x5f\157\x72\x64\145\162"]; goto c42; f79: $da += 1; query("\x55\120\104\101\x54\x45\x20" . DB_PREFIX . "\157\160\164\x69\x6f\156\x5f\166\x61\x6c\165\145\40\123\x45\124\x20\163\x6f\x72\164\137\157\x72\144\x65\162\x3d{$da}\x20\x57\x48\x45\122\x45\x20\157\160\164\151\x6f\x6e\137\166\x61\x6c\x75\145\x5f\x69\144\x3d" . $C2["\157\x70\164\151\x6f\156\x5f\166\x61\154\165\x65\x5f\x69\x64"]); c42: A8a: } goto b70; cac: global $F6; $options = query("\123\x45\x4c\105\x43\124\40\x2a\40\x46\x52\117\115\40" . DB_PREFIX . "\157\160\164\x69\x6f\x6e\x5f\166\x61\154\x75\x65\x20\x6f\40\112\x4f\x49\116\40" . DB_PREFIX . "\157\160\164\151\157\156\137\x76\141\154\x75\x65\137\144\145\163\143\162\151\160\164\151\157\156\40\x6f\x64\40\117\116\x20\157\x2e\157\160\164\x69\157\156\137\x76\x61\154\x75\x65\x5f\151\x64\40\x3d\40\157\144\56\x6f\x70\164\x69\x6f\156\x5f\166\x61\x6c\165\145\137\151\144\40\x57\110\x45\x52\x45\x20\154\x61\156\147\165\x61\147\x65\137\151\144\x20\75\40" . $F6->get("\x63\157\x6e\x66\151\147\x5f\x6c\141\156\147\x75\141\x67\x65\137\151\144"))->rows; if ($options) { goto f1c; } return; f1c: goto A68; b70: c6e: goto E54; E54: } function b8() { goto F60; f69: b5a: if (!$options_image) { goto D73; } $options_image = array("\x53\145\x6c\145\x63\164" => $options_image); D73: Fc6: goto d76; ed2: if (!is_array($options_type)) { goto ad8; } $options_type = array("\x53\x65\154\x65\143\x74" => $options_type); ad8: if (!$options_price) { goto b5a; } $options_price = array("\x53\145\x6c\x65\143\x74" => $options_price); goto f69; a8a: if (!is_numeric(end($Ed))) { goto Fc6; } $options = array("\x53\145\154\x65\x63\164" => $options); if (!is_array($options_required)) { goto c66; } $options_required = array("\x53\x65\154\x65\143\x74" => $options_required); c66: goto ed2; b13: return A2($B9); goto eed; F60: $options = g("\x6f\x70\x74\151\157\156\163"); if ($options) { goto Bb7; } return array(); Bb7: $options_type = g("\x6f\x70\x74\151\157\x6e\x73\137\x74\x79\x70\x65"); goto a5a; a5a: $options_required = g("\157\x70\x74\x69\157\x6e\x73\x5f\x72\x65\x71\165\x69\x72\x65\x64", true); $options_price = g("\157\160\164\151\x6f\156\163\137\160\x72\x69\143\145"); $options_image = g("\x6f\160\164\x69\x6f\156\x73\137\x69\155\141\147\145"); $b9 = g("\x6f\x70\x74\151\x6f\x6e\x73\x5f\161\165\x61\156\x74\151\x74\171"); $Ed = array_keys($options); goto a8a; d76: $B9 = array(); global $bf; $bf = 0; foreach ($options as $f1 => $B49) { goto F13; c4b: b82: goto E36; c58: B95: $aaa = 0; if (!g("\157\160\164\x69\x6f\156\163\137\x6d\x69\x6e\x5f\x70\162\x69\143\145\x5f\144\x65\164\145\x63\x74")) { goto bc1; } if (!($bf0 && $A2 != "\143\x68\x65\x63\153\x62\157\170" && @$options_price[$f1])) { goto E81; } $aaa = 1000000; goto Bcc; F13: $name = trim($f1); if ($name) { goto C9b; } goto b82; C9b: if (!(substr($name, -1) == "\72")) { goto D67; } goto db7; db7: $name = substr($name, 0, -1); D67: if ($B49) { goto b4e; } goto b82; b4e: goto E6b; E6b: if (is_array($options_required)) { goto a68; } $bf0 = $options_required; goto B38; a68: $bf0 = @$options_required[$f1]; goto Aea; E7c: cd8: f58: if ($A2) { goto d18; } if (!empty($options_image[$f1])) { goto F54; } if (count($B49) > 4) { goto A22; } goto d04; Bcc: foreach ($B49 as $e8 => $A9) { $Ac8 = currency(@$options_price[$f1][$e8]); if (!($Ac8 < $aaa)) { goto b2a; } $aaa = $Ac8; b2a: $options_price[$f1][$e8] = $Ac8; D99: } ee8: if (!($aaa == 1000000)) { goto cc2; } $aaa = 0; cc2: goto Ca3; f6f: A22: $A2 = "\163\145\x6c\145\x63\164"; C70: d18: $name .= "\x5f" . $A2; goto c58; Aea: B38: if ($bf0) { goto b39; } $name .= "\52"; b39: if (!find("\x5f", $name)) { goto F0b; } goto ef6; d04: $A2 = "\x72\141\x64\x69\157"; goto C70; F54: $A2 = "\x69\x6d\141\147\145"; goto C70; goto f6f; ef6: $A2 = inside("\137", '', $name); goto B95; F0b: $A2 = false; if (!$options_type) { goto f58; } goto F84; Ca3: E81: $bf += $aaa; bc1: $f1e = array(); foreach ($B49 as $e8 => $A9) { goto Eaf; Eaf: $A9 = trim($A9); if ($A9) { goto Fa8; } goto cf6; Fa8: if (empty($b9[$f1][$e8])) { goto D42; } goto Bd5; bbc: $f1e[] = $A9; if (!$options_price) { goto e4f; } $f1e[] = $options_price[$f1][$e8] - $aaa; e4f: if (empty($options_image[$f1])) { goto E3b; } goto b4d; b4d: $D3 = @$options_image[$f1][$e8]; if (is_image($D3)) { goto a7a; } $D3 = "\156\157\x5f\x69\x6d\x61\x67\145\x2e\152\x70\x67"; a7a: $f1e[] = $D3; goto df5; c05: dd7: fea: if (!is_numeric($A9)) { goto f27; } $A9 .= "\x20"; f27: goto bbc; Bd5: $A9 .= "\40\x5b" . (int) $b9[$f1][$e8] . "\x5d"; goto fea; D42: if (!(substr($A9, -1) == "\x5d")) { goto dd7; } $A9 .= "\40"; goto c05; df5: E3b: cf6: goto c82; c82: } goto F55; F84: if (is_array($options_type)) { goto E09; } $A2 = $options_type; goto cd8; E09: $A2 = @$options_type[$f1]; goto E7c; F55: a61: if ($f1e) { goto beb; } goto b82; beb: $B9[$name] = $f1e; goto c4b; E36: } Fcf: goto b13; eed: } function a2($d60) { goto c37; c37: global $ae4; if (!empty($d60)) { goto D68; } return array(); D68: c9("\143\x61\x74\x61\154\x6f\x67\x2f\157\160\164\x69\157\156"); goto C13; F58: $c19 = $b9; cf2: $z_order = 100; foreach (array_keys($d60) as $B5) { goto aef; Def: $C5d = $D1["\157\x70\164\x69\x6f\x6e\x5f\x69\144"]; A43: $C2 = bC("\155\157\x64\145\x6c\x5f\143\141\164\141\x6c\x6f\147\137\x6f\160\164\x69\157\x6e")->getOption($C5d); $options = BC("\155\x6f\144\145\x6c\137\x63\x61\164\141\x6c\157\x67\x5f\157\160\x74\151\157\x6e")->getOptionValues($C2["\157\x70\x74\151\157\156\137\151\144"]); $B6f = array(); goto ccc; Bb4: $D1 = query("\x53\x45\114\x45\x43\x54\x20\x6f\56\157\x70\164\151\157\156\x5f\151\x64\40\106\122\117\x4d\40\140\x6f\143\137\x6f\x70\164\151\x6f\x6e\140\40\x6f\x20\114\105\x46\x54\x20\112\117\x49\x4e\x20\x6f\143\x5f\x6f\160\x74\x69\x6f\156\137\144\145\163\x63\162\x69\160\x74\151\157\x6e\40\x6f\144\40\x4f\116\x20\x28\157\56\x6f\x70\164\151\x6f\x6e\137\x69\x64\40\x3d\x20\157\144\x2e\157\x70\x74\151\157\x6e\x5f\x69\x64\51\40\x57\110\105\x52\105\x20\x6e\141\x6d\x65\x20\x3d\47" . $fdd . "\x27")->row; if ($D1) { goto c21; } if (!(VERSION >= "\62\x2e\x33" && $Bc4 == "\x69\x6d\x61\x67\145")) { goto a9f; } $Bc4 = "\x72\141\144\151\157"; a9f: goto e68; ccc: $d8c = array(); $B9f = array(); $fe3 = array(); if ($b96) { goto Bab; } $b96 = @is_image($d60[$B5][1]) || @is_image($d60[$B5][2]); goto B0b; Cca: b65: goto C58; F46: $F66 = 0; foreach ($d60[$B5] as $A9) { switch ($F66) { case 0: $d8c[] = $A9; goto B7f; case 1: $B9f[] = $A9; goto B7f; case 2: $fe3[] = $A9; goto B7f; } B9e: B7f: $F66++; if (!($F66 > 2)) { goto adb; } $F66 = 0; adb: Ffe: } goto A9d; ad3: d25: $Cda = $C2; $Cda["\x70\162\157\144\165\143\164\137\x6f\x70\x74\151\x6f\x6e\137\166\x61\154\165\x65"] = $B6f; $Cda["\x72\145\x71\x75\151\162\x65\144"] = $bf0; if (!$B6f) { goto d3f; } goto Cc4; Cc4: $res[] = $Cda; d3f: e3f: goto cc7; aef: $name = trim(str_replace("\x20\40", "\x20", $B5)); $name = f7($name); $b96 = false; if ($B6 = strpos($name, "\137")) { goto Ae4; } $Bc4 = "\x72\x61\x64\151\157"; goto Ff2; e68: $bac = array("\164\x79\x70\145" => $Bc4, "\163\x6f\162\164\137\x6f\x72\144\x65\162" => $z_order++); $bac["\x6f\160\x74\x69\157\x6e\137\144\x65\163\143\162\x69\x70\164\151\x6f\x6e"] = c4($name, "\156\x61\x6d\145"); if (!g("\x73\153\x69\x70")) { goto E8a; } $C5d = rand(10000, 100000); goto f3b; goto f60; c1e: D30: $fdd = $name; if (!g("\151\156\143\157\155\x69\156\147\137\x6c\x61\156\x67\165\x61\147\145")) { goto Ec6; } $fdd = f7(translate($name, g("\151\x6e\143\157\x6d\151\156\x67\137\x6c\141\156\x67\165\141\x67\145"), g("\x64\145\x66\141\x75\154\164\137\x6c\x61\156\147"))); Ec6: goto Bb4; ddd: $a20 = array(); $Dc7 = array(); foreach ($d8c as $D27 => $F8e) { goto Ee3; ae7: $D78[$name . "\x3a" . $cf2["\156\x61\155\145"]] = $cf2["\157\x70\164\151\x6f\x6e\137\x76\141\154\x75\145\x5f\x69\144"]; $D78[$cf2["\x6e\x61\155\x65"]] = $cf2["\x6f\x70\x74\151\x6f\156\137\x76\x61\154\165\145\137\151\144"]; Dcf: B93: goto B29; cdc: f35: $c5b["\157\x70\164\x69\x6f\x6e\x5f\166\141\154\165\145\137\151\144"] = $eb6; $B6f[] = $c5b; $c03[] = @$B9f[$D27]; $Ad9 = true; goto B74; B74: C49: if (!$ae4) { goto Dcf; } $cf2 = end($B6f); $b67[$name . "\72" . $cf2["\x6e\141\x6d\x65"]] = $C5d; $b67[$cf2["\x6e\x61\155\x65"]] = $C5d; goto ae7; ec3: cfc: $b96 = "\156\x6f\x5f\x69\x6d\141\147\x65\56\x6a\x70\147"; d6d: $c5b = array("\156\141\155\145" => $F8e, "\151\155\x61\147\145" => $b96, "\x73\x6f\162\164\x5f\x6f\x72\x64\x65\x72" => $e11++); $Fdd = $c5b; goto f39; Ee3: $fdb = false; if ($B6 = strpos($F8e, "\40\133") and substr($F8e, -1) == "\135" and is_numeric(substr($F8e, $B6 + 2, -1))) { goto fc0; } $a20[] = $c19; goto ca7; fc0: goto bc0; fb0: if (!g("\x69\x6e\143\x6f\x6d\x69\x6e\x67\x5f\154\x61\156\147\165\x61\x67\x65")) { goto A8c; } $E22 = f7(translate($F8e, g("\x69\156\143\x6f\155\x69\156\x67\137\x6c\x61\156\147\165\x61\x67\145"), g("\x64\145\146\141\x75\154\164\137\154\141\x6e\147"))); A8c: foreach ($options as $e8 => $A9) { if (!($A9["\x6e\141\x6d\145"] === $E22 || f7($A9["\x6e\141\x6d\x65"]) === $E22)) { goto d5e; } $B6f[] = $A9; $c03[] = @$B9f[$D27]; $e8a[] = @$fe3[$D27]; $fdb = true; goto Ace; d5e: Bff: } Ace: goto bd8; f39: $Fdd["\157\x70\164\151\x6f\156\x5f\x76\x61\x6c\x75\145\x5f\144\145\x73\143\162\151\160\x74\x69\x6f\x6e"] = C4($F8e, "\x6e\x61\155\145"); if (!g("\x73\x6b\x69\160")) { goto F63; } $eb6 = rand(10000, 100000); goto f35; F63: goto d22; d22: $eb6 = A0($C5d, $Fdd); $a5 = query("\x53\x45\x4c\105\103\x54\x20\156\141\155\145\40\106\122\x4f\x4d\40\x6f\x63\137\157\160\164\x69\x6f\156\x5f\x76\141\154\165\145\137\x64\145\163\143\162\x69\160\164\151\157\x6e\x20\x57\x48\x45\122\x45\40\x6c\141\x6e\147\x75\x61\x67\145\x5f\151\x64\x3d" . g("\144\x65\x66\x61\165\154\x74\137\x6c\x61\156\147\137\x69\x64") . "\x20\117\x52\104\x45\122\x20\102\x59\x20\x6f\160\164\151\x6f\x6e\137\x76\141\x6c\x75\x65\137\151\x64\x20\104\105\123\103\x20\114\x49\115\111\124\40\x31")->row["\156\x61\155\x65"]; if (!($E22 != $a5)) { goto a5f; } xlog("\127\101\122\x4e\111\x4e\107\72\x20\103\x72\145\141\x74\145\x64\40\x6f\x70\x74\x69\x6f\x6e\x20\x73\x61\166\145\40\156\x61\x6d\145\40\x6d\151\163\155\141\x74\x63\x68\x3a\x20\x27{$E22}\x27\x20\55\x3e\x20\x27{$a5}\x27"); a5f: goto cdc; e7b: goto B93; Da6: $Dc7[] = $F8e; $d8c[$D27] = $F8e; $E22 = $F8e; goto fb0; bd8: if ($fdb) { goto C49; } $b96 = @$fe3[$D27]; if (!$b96 or g("\x73\153\151\160")) { goto cfc; } $b96 = get_image($b96); goto d6d; goto ec3; bc0: $a20[] = (int) substr($F8e, $B6 + 2); $F8e = substr($F8e, 0, $B6); ca7: $F8e = F7($F8e); if (!in_array($F8e, $Dc7)) { goto Da6; } goto e7b; B29: } f9c: foreach ($B6f as $e8 => $A9) { goto f47; bfc: Ebb: goto bd9; f47: $B6f[$e8]["\x70\162\x6f\144\165\143\x74\x5f\x6f\x70\x74\151\157\x6e\x5f\166\x61\154\165\x65\137\x69\x64"] = ''; $B6f[$e8]["\x71\165\x61\156\164\x69\164\171"] = $a20[$e8]; $B6f[$e8]["\163\165\142\x74\x72\141\x63\x74"] = "\x31"; $B6f[$e8]["\x70\162\151\x63\x65\x5f\x70\x72\145\x66\x69\170"] = "\53"; if (@$c03[$e8]) { goto Ee8; } goto A49; A49: $c03[$e8] = ''; goto a76; Ee8: $c03[$e8] = c3($c03[$e8]); a76: goto F4e; F4e: $B6f[$e8]["\x70\162\151\143\x65"] = $c03[$e8]; $B6f[$e8]["\160\x6f\151\156\164\x73\x5f\160\x72\x65\x66\151\170"] = "\x2b"; $B6f[$e8]["\160\157\151\x6e\x74\163"] = ''; $B6f[$e8]["\x77\145\151\x67\x68\164\x5f\160\x72\x65\146\x69\170"] = "\x2b"; $B6f[$e8]["\167\x65\151\147\x68\x74"] = ''; goto bfc; bd9: } goto ad3; d2c: $bf0 = 1; if (!($name[strlen($name) - 1] == "\x2a")) { goto Dbc; } $name = substr($name, 0, -1); $bf0 = 0; Dbc: goto efa; f60: E8a: bC("\x6d\x6f\144\145\154\137\x63\x61\164\141\154\157\147\137\157\x70\x74\x69\157\156")->addOption($bac); $a5 = query("\123\x45\x4c\105\x43\124\40\x6e\141\x6d\145\40\x46\x52\x4f\115\x20\x6f\x63\137\157\x70\x74\151\157\156\x5f\144\145\163\143\162\x69\160\x74\151\157\156\x20\x57\x48\105\122\105\40\154\x61\x6e\147\165\141\x67\145\137\151\144\x3d" . g("\x64\x65\x66\x61\x75\x6c\164\137\x6c\x61\156\147\x5f\x69\144") . "\40\117\x52\x44\x45\x52\x20\x42\x59\40\157\160\x74\151\157\156\x5f\x69\x64\40\104\x45\x53\103\x20\114\111\x4d\111\124\x20\61")->row["\x6e\x61\x6d\145"]; if (!($fdd != $a5)) { goto B92; } xlog("\127\101\x52\x4e\111\x4e\x47\72\40\103\162\x65\141\164\x65\x64\40\x6f\x70\164\x69\x6f\x6e\x20\163\141\166\145\40\156\x61\x6d\x65\40\x6d\x69\x73\x6d\x61\164\x63\150\x3a\x20\47{$fdd}\x27\x20\55\76\x20\47{$a5}\x27"); goto d75; Ff2: goto ade; Ae4: $Bc4 = substr($name, $B6 + 1); $name = substr($name, 0, $B6); ade: goto d2c; C9e: a6a: $F66 = false; foreach ($d60[$B5] as $A9) { if ($F66 = !$F66) { goto f7d; } $fe3[] = $A9; goto E6d; f7d: $d8c[] = $A9; E6d: dde: } e8c: a00: goto A03; A9d: be3: C58: D59: $c03 = array(); $e11 = 100; goto ddd; A03: goto D59; Fc8: if ($b96) { goto F46; } $F66 = false; foreach ($d60[$B5] as $A9) { if ($F66 = !$F66) { goto Bba; } $B9f[] = $A9; goto A8d; Bba: $d8c[] = $A9; A8d: E20: } goto Cca; efa: if (!($Bc4 == "\x69\155\141\147\x65")) { goto ecb; } $b96 = true; ecb: if (!(substr($name, -1) == "\x3a")) { goto D30; } $name = substr($name, 0, -1); goto c1e; B0b: Bab: if (@is_numeric($d60[$B5][1])) { goto Fc8; } if ($b96) { goto a6a; } $d8c = $d60[$B5]; goto a00; goto C9e; d75: B92: $C5d = query("\x53\105\114\x45\103\124\40\x2a\x20\106\x52\x4f\115\40\140\157\x63\137\x6f\160\x74\x69\157\x6e\140\x20\x6f\40\114\105\x46\x54\x20\x4a\x4f\111\116\40\157\143\x5f\x6f\160\x74\x69\157\156\x5f\144\x65\x73\143\162\x69\160\164\151\157\156\x20\x6f\144\40\x4f\116\40\x28\157\56\x6f\x70\x74\151\x6f\x6e\x5f\151\144\x20\75\x20\157\x64\x2e\157\160\x74\x69\x6f\x6e\137\x69\144\51\x20\x57\110\105\122\105\40\156\x61\155\x65\x20\x3d\47" . $name . "\x27")->row["\157\160\x74\151\157\156\x5f\151\x64"]; f3b: goto A43; c21: goto Def; cc7: } fc4: goto Eb3; C29: B51: if (!(g("\163\157\162\164\137\157\x70\164\151\157\156\x73") and $Ad9)) { goto E08; } sort_options(); E08: return $res; goto fe9; C13: $res = array(); $Ad9 = false; $c19 = 100; global $b9; if (!($b9 && is_numeric($b9))) { goto cf2; } goto F58; Eb3: if (!$ae4) { goto B51; } global $ac5; $ac5 = array("\162\x65\x6c\141\x74\x65\144\137\x6f\x70\164\x69\x6f\x6e\x73\137\x75\x73\145" => true, "\162\x65\x6c\141\x74\145\144\137\x6f\160\164\x69\157\x6e\x73\137\166\x61\162\151\141\x6e\164\x5f\x73\145\x61\x72\143\150" => true); foreach ($ae4 as $Dd7) { $a0 = array("\x71\x75\141\x6e\164\x69\164\171" => 1000, "\155\157\144\x65\154" => '', "\x70\x72\151\x63\x65" => 0); foreach ($Dd7 as $Ff => $A9) { if (is_numeric($Ff)) { goto d67; } $a0[$Ff] = $A9; goto D8b; d67: $a0["\x6f\x70\x74\x69\157\156\x73"][$b67[$A9]] = $D78[$A9]; D8b: e4b: } Db4: $ac5["\162\145\x6c\141\164\x65\144\x6f\160\x74\x69\x6f\x6e\x73"][] = $a0; A66: } F0a: goto C29; fe9: } function A0($C5d, $c5b) { global $db; query("\x49\x4e\x53\105\x52\x54\x20\111\116\124\117\40\157\143\x5f\x6f\160\164\151\x6f\x6e\x5f\x76\x61\x6c\x75\x65\x20\123\x45\124\x20\157\160\x74\x69\157\x6e\137\x69\x64\x20\x3d\x20" . (int) $C5d . "\54\x20\151\x6d\141\147\x65\x20\75\x20\47" . escape(html_entity_decode($c5b["\151\x6d\x61\x67\x65"], ENT_QUOTES, "\125\124\x46\x2d\x38")) . "\x27\54\40\x73\157\x72\x74\137\157\x72\x64\x65\x72\40\x3d\x20\47" . (int) $c5b["\163\x6f\162\x74\137\157\162\x64\x65\x72"] . "\47"); $dbb = $db->getLastId(); foreach ($c5b["\x6f\x70\164\151\x6f\x6e\137\166\141\154\x75\x65\x5f\x64\145\x73\x63\x72\151\160\x74\151\157\156"] as $Bc => $eef) { query("\111\116\123\x45\x52\x54\x20\111\116\x54\x4f\40\157\x63\x5f\x6f\x70\x74\x69\157\x6e\x5f\x76\x61\x6c\x75\145\137\144\x65\163\x63\162\x69\x70\164\x69\157\156\x20\x53\x45\x54\40\157\160\x74\151\157\156\137\166\x61\x6c\165\145\137\x69\144\x20\75\40\x27" . (int) $dbb . "\x27\54\x20\154\x61\156\x67\x75\141\x67\145\137\151\x64\x20\x3d\x20\47" . (int) $Bc . "\47\x2c\x20\157\x70\x74\151\x6f\x6e\x5f\x69\x64\x20\75\40\x27" . (int) $C5d . "\x27\x2c\x20\156\141\155\145\x20\x3d\40\x27" . escape($eef["\x6e\x61\155\x65"]) . "\x27"); D95: } a5c: return $dbb; } function f7($D7f) { goto fc1; d92: if (!$Fd9) { goto e85; } $Dff = strpos($D7f, "\x3e", $B6); if (!$Dff) { goto ea0; } $c5 = $Dff + 1; $B6 = $Dff + 1; goto A44; e40: a74: $B6++; $Fd9 = false; foreach ($tags as $Fa4) { if (!(strtolower(substr($D7f, $B6, strlen($Fa4))) == $Fa4)) { goto f22; } $Fd9 = true; goto ee2; f22: Cfb: } ee2: goto d92; Ee1: $c5 = 0; $B6 = 0; c51: if (!true) { goto C0f; } $B6 = strpos($D7f, "\x3c", $B6); goto c1d; A44: ea0: e85: goto c51; C0f: return $D7f; goto D02; fc1: $D7f = trim($D7f); if (strpos($D7f, "\73")) { goto D23; } $D7f = str_replace("\x26", "\46\x61\x6d\x70\x3b", $D7f); D23: $tags = array("\142\162", "\141\x20", "\x2f\141", "\151\155\147\40"); goto Ee1; c1d: if (!($B6 === false)) { goto d52; } $B6 = strlen($D7f); d52: $b0 = substr($D7f, $c5, $B6 - $c5); $Baf = str_replace(array("\x3c", "\x3e", "\x22", "\47"), array("\46\154\164\x3b", "\46\x67\164\x3b", "\x26\161\165\157\164\x3b", "\x26\x23\x30\x33\x39\73"), $b0); goto b6e; b6e: $D7f = substr($D7f, 0, $c5) . $Baf . substr($D7f, $B6); $B6 += strlen($Baf) - strlen($b0); $c5 = $B6; if (!($B6 >= strlen($D7f))) { goto a74; } goto C0f; goto e40; D02: } goto f2a; d47: $response->addHeader("\103\x6f\156\x74\145\156\x74\55\x54\x79\160\x65\x3a\40\x74\145\170\x74\x2f\150\x74\155\154\73\x20\x63\150\141\162\163\145\164\x3d\165\164\x66\55\x38"); $registry->set("\162\145\x73\160\x6f\156\163\145", $response); $cache = new Cache("\146\151\154\x65"); $registry->set("\x63\141\x63\x68\x65", $cache); if (!empty($nosession)) { goto da9; } goto B56; C3c: require_once $vqmod->modCheck(DIR_SYSTEM . "\x6c\x69\x62\x72\x61\162\x79\x2f\154\x65\156\x67\164\150\56\x70\x68\x70"); goto F91; b41: VQMod::bootup(); require_once VQMod::modCheck(DIR_SYSTEM . "\x73\x74\x61\x72\x74\x75\160\x2e\160\x68\160"); goto cf8; Eef: if (!session_id()) { goto Ca6; } session_write_close(); Ca6: $languages = array(); $c07 = $db->query("\x53\x45\114\x45\x43\x54\40\52\x20\x46\122\117\115\x20" . DB_PREFIX . "\x6c\141\156\147\x75\x61\x67\145"); goto A33; b12: function take_attribute($name) { $a0 = attribute($name); fF($name); return re($a0); } function CF(&$C5, $name) { $fb = true; $D2 = false; foreach ($C5 as $e8 => $A9) { if (!($fb and trim(str_replace("\72", '', $A9)) == $name)) { goto Be7; } $D2 = true; unset($C5[$e8]); Be7: if (!(!$fb and $D2)) { goto dc7; } $D2 = false; unset($C5[$e8]); dc7: $fb = !$fb; d39: } D4a: } function fF($name, $C9 = '') { goto e16; e16: global $attributes; if (!$C9) { goto A0b; } $a8 =& $C9; goto A71; A0b: goto b63; b63: $a8 =& $attributes; A71: if (!is_array(reset($a8))) { goto B62; } foreach ($a8 as &$C5) { cf($C5, $name); C05: } e9d: goto ede; ede: goto D38; B62: Cf($a8, $name); D38: return $a8; goto Fc3; Fc3: } function af($a7) { goto Bac; Ff9: if (!$a7["\x6b\x65\171\167\157\x72\144"]) { goto a03; } query("\x49\116\123\x45\122\124\x20\111\x4e\x54\x4f\x20\157\143\x5f\x75\x72\x6c\x5f\141\x6c\x69\x61\163\x20\x53\105\x54\x20\x71\x75\145\x72\171\x20\x3d\x20\x27\143\141\x74\x65\x67\x6f\162\171\x5f\151\144\x3d{$id}\x27\x2c\x20\153\145\x79\167\157\x72\144\x20\75\40\47" . escape($a7["\x6b\x65\171\x77\x6f\x72\x64"]) . "\x27"); a03: d5f: goto a7e; Bac: static $D5; if ($D5) { goto fed; } c9("\143\141\x74\141\154\157\x67\57\x63\x61\164\x65\x67\157\162\171"); $D5 = true; fed: goto d3a; d3a: @bC("\x6d\157\x64\x65\x6c\x5f\x63\x61\x74\141\154\x6f\147\x5f\x63\x61\x74\145\x67\x6f\x72\x79")->addCategory($a7); $id = d9("\x63\x61\x74\145\x67\157\x72\171"); $a0 = query("\123\105\114\x45\103\x54\40\x2a\x20\106\x52\x4f\115\x20" . DB_PREFIX . "\165\162\x6c\137\141\154\x69\141\163\x20\127\x48\x45\x52\x45\40\161\165\x65\162\171\75\47\143\141\x74\x65\x67\x6f\x72\x79\137\x69\x64\75{$id}\x27")->num_rows; if (!($a0 > 1)) { goto d5f; } query("\104\105\x4c\105\x54\x45\x20\106\x52\117\x4d\40" . DB_PREFIX . "\165\162\x6c\x5f\x61\x6c\151\141\x73\40\127\x48\105\122\x45\40\161\165\145\162\171\x3d\47\x63\x61\x74\x65\147\x6f\x72\171\x5f\151\144\75{$id}\47"); goto Ff9; a7e: } function fe($name, $f4 = true) { goto b7e; B67: C4('', "\x6d\x65\x74\141\137\153\145\171\x77\x6f\162\144", $D4); C4('', "\155\x65\x74\x61\x5f\x64\145\163\x63\162\x69\160\x74\151\157\156", $D4); B2('', "\x64\x65\x73\143\x72\151\160\x74\151\x6f\x6e", $D4); B2('', "\x73\x65\157\137\164\x69\x74\154\x65", $D4); B2('', "\163\x65\157\x5f\x68\x31", $D4); goto d3e; Ece: $C6 = $name; if (!($B6 = strrpos($name, "\40\76\40"))) { goto fdf; } $C6 = substr($name, $B6 + 3); fdf: $B0 = $name; goto bdf; d0f: foreach ($dd as $F7) { if (!($b8 == $F7["\165\x70\143\141\x73\145"])) { goto Acc; } $id = (int) $F7["\x63\x61\x74\145\x67\x6f\x72\x79\x5f\x69\144"]; goto B3c; Acc: e97: } B3c: if (!$id) { goto E32; } return $id; E32: goto c49; D43: if ($seo_url) { goto d95; } $seo_url = $C6; d95: $seo_url = translit($seo_url); b5($seo_url); goto E24; Ce9: B2($category_seo_h1, "\x6d\x65\x74\x61\x5f\150\61", $D4); $D3 = get_image($category_image); $seo_url = $category_seo_url; C34: $incoming_language = $F2; goto D43; D89: $name = str_replace("\x20\x20", "\40", $name); $name = trim($name); if (!g("\162\x65\x70\x6c\141\x63\x65\137\143\x61\x74\145\x67\157\x72\151\145\x73")) { goto d5c; } $name = replace('', '', $name); d5c: goto Ece; c49: $Bd = 0; if (!($B6 = strrpos($B0, "\x20\76\x20"))) { goto b7c; } $Bd = Fe(substr($B0, 0, $B6), false); b7c: global $incoming_language; goto D09; D09: $F2 = $incoming_language; $incoming_language = false; xnotice("\x41\144\144\151\x6e\x67\x20\74\x62\x3e{$name}\x3c\x2f\142\76\40\143\x61\164\145\147\157\x72\x79\56\x2e\56"); $D4 = c4($C6, "\156\141\155\145"); if ($f4) { goto B97; } goto B67; C18: c4($category_meta_keyword, "\x6d\145\164\141\x5f\153\145\171\167\x6f\x72\x64", $D4); C4($category_meta_description, "\x6d\x65\x74\x61\137\x64\x65\x73\x63\x72\x69\160\x74\x69\x6f\x6e", $D4); B2($category_description, "\144\145\x73\143\x72\x69\160\164\x69\x6f\x6e", $D4); b2($category_seo_title, "\x73\x65\x6f\137\x74\151\x74\x6c\145", $D4); $B7 = $category_seo_title; goto Af9; C1b: if (!(F7($C6) != $a5)) { goto C37; } xlog("\x57\101\x52\x4e\x49\x4e\x47\x3a\40\x43\x72\x65\x61\164\145\144\x20\143\141\x74\145\147\x6f\x72\x79\x20\x73\141\166\145\40\x6e\141\x6d\145\40\155\151\x73\x6d\141\x74\x63\150\x3a\x20\x27{$C6}\47\40\x2d\76\40\47{$a5}\47"); C37: $dd = GetCategories(); foreach ($dd as &$E0) { $E0["\x75\160\x63\141\163\x65"] = upcase(str_replace("\x27", "\46\43\x30\x33\x39\x3b", trim($E0["\x66\165\x6c\x6c\156\141\x6d\145"]))); eb8: } goto E7f; c47: B97: global $category_description, $category_meta_keyword, $category_meta_description, $category_image, $category_seo_url, $category_seo_title, $category_seo_h1; if (!g("\x64\x65\x73\x63\x72\151\x70\164\x69\x6f\156\137\x69\155\x61\147\145\163")) { goto D3b; } $category_description = get_html_images($category_description); D3b: goto C18; d3e: B2('', "\155\x65\x74\x61\x5f\x74\x69\164\154\145", $D4); B2('', "\x6d\x65\164\x61\x5f\150\61", $D4); $D3 = ''; $seo_url = false; goto C34; goto c47; b7e: if (trim($name)) { goto Ef2; } return 0; Ef2: $name = str_replace("\40\46\x67\164\x3b\x20", "\x20\76\x20", $name); $name = str_replace("\x20\40", "\40", $name); goto D89; E24: aF(array("\160\141\162\145\x6e\x74\137\151\144" => $Bd, "\x63\x6f\x6c\165\155\156" => "\61", "\164\x6f\x70" => g("\x74\157\160"), "\x69\x6d\x61\x67\145" => $D3, "\153\145\x79\x77\x6f\162\x64" => $seo_url, "\163\157\x72\164\137\x6f\162\144\x65\162" => '', "\x73\164\x61\164\x75\163" => 1, "\x63\141\x74\x65\x67\x6f\x72\171\x5f\x64\x65\x73\143\x72\151\160\x74\151\157\x6e" => $D4, "\143\141\164\x65\x67\x6f\x72\171\x5f\x73\164\157\x72\145" => array(0))); unset($GLOBALS["\x63\x61\164\x65\x67\157\162\171\137\163\145\157\137\x75\x72\x6c"]); global $db; $id = D9("\x63\141\164\145\147\157\162\x79"); $a5 = query("\x53\105\114\105\103\x54\x20\x6e\x61\x6d\145\40\x46\122\x4f\115\x20\x6f\143\137\x63\x61\164\145\147\157\162\171\137\x64\x65\163\143\162\151\160\164\x69\x6f\x6e\x20\127\110\x45\122\x45\x20\x63\x61\x74\x65\x67\157\162\x79\137\151\x64\75{$id}\40\x41\116\x44\40\154\x61\156\x67\165\x61\x67\x65\137\x69\x64\75" . g("\144\145\146\141\x75\x6c\x74\137\154\141\156\147\x5f\151\144"))->row["\156\141\x6d\x65"]; goto C1b; Af9: if ($B7) { goto a46; } $B7 = $C6; a46: c4($B7, "\155\x65\164\141\x5f\164\151\x74\x6c\x65", $D4); b2($category_seo_h1, "\163\145\x6f\x5f\x68\61", $D4); goto Ce9; E7f: aaa: return $id; goto e7d; bdf: $name = str_replace("\40\76\40", "\x20\46\x67\x74\x3b\x20", $name); $name = F7($name); $b8 = upcase($name); global $dd; $id = 0; goto d0f; e7d: } goto F09; Dcc: ddc: goto de5; d45: require_once "\x2e\x2e\x2f\56\x2e\57\166\x71\155\x6f\144\x2f\x76\x71\155\x6f\x64\x2e\x70\150\x70"; if (method_exists("\x56\121\115\157\144", "\142\x6f\x6f\164\x75\x70")) { goto b41; } goto Dd2; B6c: Ef8: goto Fb7; Ac1: if (E9) { goto Ae5; } require_once DIR_SYSTEM . "\163\164\141\x72\164\165\x70\x2e\160\150\160"; goto e38; f2a: function b2($D7f, $B5 = '', &$c13 = false) { goto c76; cb2: goto Da3; b15: $a0 =& $c13; Da3: global $default_lang, $incoming_language; goto Eec; bda: if (!$B5) { goto db0; } foreach (g("\x6c\141\156\147") as $Bdf => $id) { goto F49; F49: if (!$incoming_language) { goto C59; } $D7f = translate($Fcf, $incoming_language, $Bdf); C59: if (is_string($D7f)) { goto a9d; } if (!empty($D7f[$Bdf])) { goto ac6; } goto f0b; f0b: $a0[$id][$B5] = htmlspecialchars($D7f[$default_lang]); goto fa6; a9d: $a0[$id][$B5] = htmlspecialchars($D7f); goto fa6; goto d00; d00: ac6: $a0[$id][$B5] = htmlspecialchars($D7f[$Bdf]); fa6: Efc: goto Bdc; Bdc: } E8e: db0: return $a0; goto b00; Eec: $Fcf = $D7f; if ($B5) { goto a5e; } foreach (g("\154\141\x6e\147") as $Bdf => $id) { goto B36; aa9: $a0[$id] = htmlspecialchars($D7f[$default_lang]); goto C0b; C99: $a0[$id] = htmlspecialchars($D7f); goto C0b; goto Eae; B36: if (!$incoming_language) { goto d40; } $D7f = translate($Fcf, $incoming_language, $Bdf); d40: if (is_string($D7f)) { goto C99; } if (!empty($D7f[$Bdf])) { goto F5f; } goto aa9; Eae: F5f: $a0[$id] = htmlspecialchars($D7f[$Bdf]); C0b: d28: goto ced; ced: } b67: a5e: goto bda; c76: if (!(is_array($D7f) and is_numeric(key($D7f)))) { goto Ce8; } $D7f = "\74\160\x3e" . implode("\74\57\160\76\74\x70\76", $D7f) . "\74\57\x70\x3e"; Ce8: if ($c13) { goto b15; } $a0 = array(); goto cb2; b00: } function c4($D7f, $B5 = '', &$c13 = false) { goto a60; a60: if (!(is_array($D7f) and is_numeric(key($D7f)))) { goto ab1; } $D7f = "\x3c\160\76" . implode("\x3c\x2f\x70\x3e\74\x70\76", $D7f) . "\x3c\x2f\x70\x3e"; ab1: if ($c13) { goto F6b; } $a0 = array(); goto e27; e27: goto Fe2; F6b: $a0 =& $c13; Fe2: global $default_lang, $incoming_language; goto b11; Be5: if (!$B5) { goto e59; } foreach (g("\154\x61\156\x67") as $Bdf => $id) { goto e43; e43: if (!$incoming_language) { goto d41; } $D7f = translate($Fcf, $incoming_language, $Bdf); d41: if (is_string($D7f)) { goto bb3; } if (!empty($D7f[$Bdf])) { goto C25; } goto Cc3; Cc3: $a0[$id][$B5] = F7($D7f[$default_lang]); goto Dae; bb3: $a0[$id][$B5] = F7($D7f); goto Dae; goto A6d; A6d: C25: $a0[$id][$B5] = F7($D7f[$Bdf]); Dae: E52: goto e5a; e5a: } e3c: e59: return $a0; goto b6b; b11: $Fcf = $D7f; if ($B5) { goto dbc; } foreach (g("\154\x61\156\147") as $Bdf => $id) { goto Fb5; cfb: $a0[$id] = f7($D7f[$default_lang]); goto D48; C67: $a0[$id] = f7($D7f); goto D48; goto F7d; F7d: F9f: $a0[$id] = f7($D7f[$Bdf]); D48: D12: goto D83; Fb5: if (!$incoming_language) { goto dfa; } $D7f = translate($Fcf, $incoming_language, $Bdf); dfa: if (is_string($D7f)) { goto C67; } if (!empty($D7f[$Bdf])) { goto F9f; } goto cfb; D83: } Cb2: dbc: goto Be5; b6b: } function d9($A37, $a71 = false) { if ($a71) { goto aca; } $a71 = $A37 . "\137\x69\x64"; aca: return @query("\x53\105\114\105\103\124\x20{$a71}\x20\x46\x52\x4f\x4d\x20\157\143\x5f{$A37}\40\117\122\x44\105\122\x20\x42\131\40{$a71}\x20\x44\x45\123\x43\x20\x4c\111\x4d\x49\x54\x20\61")->row[$a71]; } function get_last_product_id() { return D9("\x70\162\x6f\x64\165\143\164"); } function process_product() { goto C15; E49: unset($categories[0]); D34: global $aab, $categorizer; if (!((!$product_id or g("\165\x70\x64\x61\164\145\137\143\141\164\x65\x67\157\x72\x69\x65\163") == true) and $categorizer)) { goto af0; } $Cbc = $categories; goto C0a; bc2: foreach ($images as $Ff => $cb5) { goto A06; cbb: if (!empty($product["\151\155\x61\x67\145"])) { goto a35; } $product["\151\x6d\x61\147\x65"] = $cb5; goto dd9; a35: $b93[] = array("\151\x6d\x61\x67\x65" => $cb5, "\x73\157\162\164\137\x6f\162\144\x65\x72" => $c7a); goto a32; A06: if (!empty($clean_images[$Ff])) { goto c81; } $cb5 = get_image($cb5); goto C14; c81: $cb5 = get_image($cb5, $clean_images[$Ff]); goto D10; a32: $c7a += 10; dd9: goto D1b; D10: C14: if ($cb5) { goto D7d; } goto dd9; D7d: $Ecd[] = $cb5; goto cbb; D1b: } b8b: $product["\160\x72\157\144\x75\143\164\x5f\151\x6d\x61\x67\145"] = $b93; $images = $Ecd; $main_image = false; goto c0b; D14: if (!g("\x61\165\164\157\x5f\x66\151\x6c\164\145\x72")) { goto C52; } F4($product); C52: global $e6f; if ($product_id == 0) { goto d7b; } goto Ad3; ba8: $Cd5 = true; $ccc = true; $Be7 = C4(g("\156\x61\x6d\x65"), "\156\141\155\x65"); c4(g("\150\x31"), "\x73\145\x6f\x5f\x68\61", $Be7); c4(g("\x74\151\x74\x6c\x65"), "\x73\x65\157\137\x74\151\x74\154\x65", $Be7); goto F41; B42: Ac6: d4d: B2($description, "\x64\145\x73\143\162\x69\x70\x74\x69\157\x6e", $d8d); $B6 = g("\x70\x72\x6f\x64\165\x63\x74"); if (empty($B6["\160\162\x6f\144\x75\143\164\x5f\144\145\x73\143\162\x69\x70\164\x69\157\x6e"])) { goto A5c; } goto cf4; acf: D85: ad($images, true); $b93 = array(); $c7a = 10; global $clean_images, $clean_main_image; goto c9f; E9a: if (!(!isset($update_status) and $D0["\155\x69\163\x73\151\156\147"] == "\144\x69\163\141\142\154\145")) { goto ec1; } $update_status = true; ec1: $model = g("\x6d\x6f\x64\145\x6c"); if (!$model) { goto Ae9; } goto Bcf; D41: if (!(g("\x73\x6b\151\160\137\x7a\x65\x72\157\137\160\x72\x69\x63\145") and (!g("\160\x72\x69\x63\145") and !g("\156\x65\x77\137\160\x72\151\x63\x65")))) { goto b75; } xlog("\x50\x72\x69\143\145\40\x69\163\x20\172\145\x72\157\54\40\x73\x6b\x69\160\160\151\x6e\147\40\x70\162\157\x64\165\143\164"); global $Cd5; $Cd5 = true; return false; goto b04; b04: b75: $meta_keyword = tagit(g("\155\145\x74\x61\137\x6b\x65\171\167\157\x72\144")); global $edited_translation, $incoming_language, $Cd5, $ccc; if (!(!$edited_translation and $incoming_language)) { goto Edc; } $ec0 = $Cd5; goto ba8; Ab1: if (g("\151\x6e\150\x65\162\x69\x74\137\143\141\164\145\x67\157\x72\x69\x65\x73")) { goto f62; } goto Db3; f62: goto B84; Db3: goto A9c; F3f: if (!is_array($e9d)) { goto F68; } $e9d = reset($e9d); F68: xlog("\x4e\117\x54\x49\x43\105\x3a\40\x50\162\157\x64\x75\x63\x74\x20\141\144\144\145\x64\72\x20\74\141\x20\x68\162\145\146\x3d\x22" . f1() . "\42\x20\164\x61\162\x67\145\164\75\42\137\142\x6c\x61\x6e\x6b\42\x3e\x3c\x73\164\162\x6f\x6e\x67\x3e" . $e9d . "\74\x2f\x73\x74\x72\x6f\156\x67\x3e\x3c\57\x61\x3e"); $GLOBALS["\x70\162\157\x64\165\x63\164\137\x69\144"]++; goto Bc4; Bd1: F5(); B8(); $ccc = false; $Cd5 = $ec0; Edc: goto F80; f96: $categories = array_merge($categories, $Cbc); Bfd: af0: B84: if (!$master_category) { goto Db3; } goto Eb5; ffc: c4(g("\155\x65\x74\141\x5f\153\x65\171\167\x6f\162\x64"), "\155\x65\x74\x61\x5f\153\x65\171\167\x6f\x72\144", $d8d); b2(g("\x73\150\157\162\164\x5f\x64\145\163\x63\162\x69\160\164\x69\x6f\x6e"), "\x73\150\157\x72\x74\137\144\x65\x73\x63\x72\151\x70\x74\151\x6f\x6e", $d8d); c4(replace("\x3c\52\x3e", "\40", g("\155\145\164\141\137\x64\x65\x73\143\162\151\160\164\151\x6f\x6e")), "\155\x65\164\141\x5f\144\145\x73\x63\162\151\x70\164\151\x6f\x6e", $d8d); C4($tags, "\x74\x61\147", $d8d); global $Cd5, $description; goto bfe; F6a: E26: if (!($D2 and !$inherit_categories)) { goto A4d; } unset($Cbc[$Ff]); A4d: $Ff++; goto Bbb; B3b: $product = array("\160\x72\157\144\x75\x63\164\137\144\x65\x73\x63\x72\x69\160\x74\x69\157\156" => $d8d, "\160\x72\x6f\x64\165\143\164\x5f\x74\x61\x67" => $fa4, "\x6d\x6f\144\145\x6c" => $model, "\163\x6b\x75" => g("\163\153\x75"), "\165\x70\143" => g("\165\160\143"), "\145\141\156" => g("\x65\141\x6e"), "\152\141\x6e" => g("\x6a\141\156"), "\x69\x73\x62\x6e" => g("\x69\x73\142\x6e"), "\155\x70\x6e" => g("\155\x70\156"), "\x6c\157\x63\x61\164\151\157\x6e" => g("\154\157\143\141\x74\x69\157\x6e"), "\x74\141\170\137\x63\154\x61\x73\x73\x5f\151\x64" => g("\x74\141\x78\137\143\x6c\x61\163\x73\137\151\x64", "\x30"), "\161\x75\x61\x6e\x74\x69\164\171" => g("\161\165\x61\156\164\x69\164\x79", "\x31\x30\60\60"), "\155\151\x6e\151\x6d\x75\155" => g("\155\151\x6e\x69\155\x75\155", "\61"), "\163\165\x62\x74\162\x61\143\164" => g("\163\x75\142\x74\162\x61\x63\164", "\61"), "\x73\164\157\x63\153\x5f\x73\164\x61\x74\x75\x73\x5f\x69\x64" => g("\163\x74\157\x63\x6b\x5f\x73\x74\x61\164\x75\163\137\151\x64", "\65"), "\x73\150\151\160\160\151\x6e\x67" => g("\163\x68\x69\x70\x70\151\x6e\x67", "\61"), "\153\145\x79\167\157\x72\144" => g("\153\x65\171\x77\x6f\x72\x64"), "\x64\x61\164\x65\x5f\x61\x76\x61\151\154\141\x62\154\x65" => g("\144\x61\x74\145\x5f\x61\166\x61\151\x6c\141\x62\x6c\145", date("\x59\55\x6d\x2d\144", time() - 24 * 60 * 60)), "\154\145\x6e\x67\164\150" => g("\x6c\145\x6e\x67\x74\x68"), "\167\x69\x64\x74\x68" => g("\167\x69\144\164\x68"), "\x68\x65\151\147\150\x74" => g("\x68\145\x69\147\x68\x74"), "\154\145\156\147\x74\x68\x5f\x63\x6c\141\x73\163\137\x69\144" => g("\154\145\x6e\147\164\150\137\143\x6c\x61\x73\x73\x5f\151\x64", "\61"), "\167\x65\x69\147\x68\164" => g("\167\x65\x69\x67\x68\164"), "\x77\145\151\147\150\x74\x5f\143\154\141\163\163\x5f\151\144" => g("\x77\145\x69\147\150\164\x5f\143\154\141\x73\163\x5f\x69\144", "\61"), "\163\164\x61\164\165\163" => g("\x73\164\x61\164\x75\x73", "\x31"), "\x73\x6f\x72\x74\x5f\157\162\x64\x65\162" => "\x31", "\x6d\141\156\165\x66\x61\143\x74\x75\162\145\162\137\151\144" => empty($GLOBALS["\x6d\141\156\165\x66\x61\143\x74\165\x72\145\162"]) ? $ins["\155\141\x6e\x75\x66\x61\143\164\165\x72\x65\x72"] : ManufacturerID(g("\155\x61\156\165\146\141\x63\x74\x75\162\145\162"), true), "\155\141\151\x6e\137\143\141\x74\145\147\157\162\x79\x5f\x69\144" => @$categories[0], "\160\x72\x6f\144\165\x63\x74\x5f\143\x61\x74\x65\x67\157\x72\171" => $categories, "\160\162\x6f\x64\x75\143\x74\137\163\164\157\162\145" => g("\x70\162\157\144\165\x63\164\137\163\164\157\x72\145", array("\x30")), "\162\145\x6c\141\164\145\144" => '', "\157\x70\x74\x69\157\x6e" => '', "\156\x6f\151\x6e\144\145\x78" => 1, "\x70\x6f\x69\x6e\x74\163" => g("\160\157\151\156\x74\x73"), "\160\162\157\x64\x75\143\164\x5f\162\x65\x77\141\x72\144" => $Ae1); if (c2) { goto c3c; } $product["\x70\162\x6f\144\165\x63\164\137\x6c\141\171\157\x75\x74"] = array(0 => array("\154\x61\171\x6f\x75\x74\x5f\x69\x64" => '')); c3c: if (!g("\x63\x61\164\x65\x67\x6f\162\171")) { goto D8a; } goto Bd8; fb9: $product_id = product_match(); if (!(!$name and (!$product_id or g("\165\x70\144\141\164\x65\137\x64\145\163\x63\x72\x69\160\x74\x69\x6f\x6e")))) { goto a1e; } xlog("\116\x6f\40\156\x61\155\145\54\x20\163\x6b\x69\x70\160\151\x6e\x67\40\x70\162\157\144\x75\143\x74\x2e"); return false; a1e: goto C10; B45: d7b: if (!g("\162\145\154\141\164\145\144\137\x6f\160\164\x69\x6f\156\x73")) { goto D15; } $product = array_merge($product, g("\x72\145\154\141\x74\145\x64\137\157\160\x74\151\157\x6e\163\x5f\144\x61\164\141")); D15: global $url; goto b2e; e80: $Cbc[$Ff] = fe($Cbc[$Ff], false); Ac9: $B02 = $Cbc[$Ff]; $D2 = false; $Cb3 = false; goto Adc; E56: $product["\x72\145\154\141\x74\x65\x64"] = $related; $product["\160\162\157\144\165\x63\164\137\x72\x65\x6c\141\x74\145\x64"] = $related; d23: $product["\160\x72\157\x64\x75\143\x74\x5f\157\x70\164\151\157\156"] = B8(); global $bf; goto Ac4; c9f: if (!empty($clean_images)) { goto Aa9; } $clean_images = array(); Aa9: if (!$clean_main_image) { goto a2a; } $clean_images = array_merge(array($clean_main_image), $clean_images); goto e19; De3: $download_remaining = 10; d42: if (is_array($download)) { goto c56; } $download = array($download); c56: goto cc6; A2f: query("\111\x4e\123\105\x52\124\40\x49\x4e\x54\x4f\40\x6f\x63\x5f\160\x72\157\x64\x75\143\x74\x5f\163\160\145\x63\151\x61\154\x20\123\105\124\x20\x70\x72\x6f\144\x75\143\164\137\151\144\75{$product_id}\x2c\x20\143\165\163\164\x6f\x6d\x65\162\137\147\x72\x6f\165\x70\137\x69\144\x3d" . g("\156\145\x77\137\x70\x72\151\143\145\x5f\147\x72\157\165\x70\137\151\x64", 1) . "\x2c\40\x70\162\151\157\162\x69\x74\171\x3d\x31\x2c\40\160\162\x69\143\x65\75\x27{$new_price}\47\54\x20\144\x61\164\145\137\145\156\144\75\x27" . g("\156\x65\x77\137\160\162\x69\143\145\x5f\145\x6e\144") . "\x27"); eee: if (!($download = g("\144\x6f\x77\156\154\157\141\144"))) { goto Afe; } global $download_remaining; if (!empty($download_remaining)) { goto d42; } goto De3; C15: global $E1; if (!$E1) { goto c03; } echo "\74\x62\x72\x2f\x3e"; xlog("\74\x73\160\141\156\x20\x73\x74\171\154\x65\75\x27\x66\x6f\x6e\x74\x2d\x73\x69\x7a\145\72\x31\x36\x70\x78\73\40\143\157\x6c\157\x72\72\147\x72\x65\145\156\x27\76\x3c\146\157\156\x74\x20\143\157\x6c\157\x72\75\47\x67\x72\145\x79\x27\x3e\x45\170\x65\x63\165\164\151\x6e\147\x3c\57\146\157\156\164\x3e\x20\x70\x72\x6f\143\x65\163\x73\x5f\160\162\x6f\144\x75\x63\x74\50\51\x3c\x2f\163\x70\x61\156\76"); c03: goto D41; Bbb: goto cbe; C08: if (!$Cbc) { goto Bfd; } foreach ($dd as $C53) { if (!($C53["\x63\x61\x74\x65\x67\157\x72\171\x5f\x69\x64"] == end($Cbc))) { goto D61; } $category = str_replace("\x20\46\147\x74\x3b\x20", "\40\76\40", $C53["\x66\x75\x6c\154\x6e\141\155\145"]); goto d1f; D61: Bd9: } d1f: goto f96; F80: global $D0, $ins, $name, $description_images, $update_status; global $new_price_end; if (!is_numeric($new_price_end)) { goto abd; } $new_price_end = date("\131\x2d\x6d\x2d\x64", time() + $new_price_end * 86400); abd: goto E9a; Bd8: $product["\x6d\141\151\x6e\137\143\x61\164\x65\147\x6f\162\171\137\151\x64"] = fE(g("\143\x61\x74\x65\x67\x6f\162\x79")); D8a: unset($GLOBALS["\x73\145\x6f\137\165\x72\x6c"]); unset($GLOBALS["\153\145\171\167\157\x72\x64"]); if (!$related) { goto d23; } goto E56; C0a: if (!$category) { goto eec; } $Cbc = array_merge(array($category), $categories); eec: if ($Cbc) { goto d05; } $Cbc[] = 0; goto Be8; Bc4: E82: if (!g("\x68\141\x73\150")) { goto Da2; } F8($product_id, g("\x68\141\x73\x68")); Da2: return $product_id; goto A1c; e19: a2a: if (!empty($clean_images)) { goto dc1; } $images = array_unique($images); dc1: $Ecd = array(); goto bc2; A9c: $categories = array_unique($categories); foreach ($categories as $Ff => &$B02) { if ($B02) { goto fca; } unset($categories[$Ff]); goto E4d; fca: if (is_numeric($B02)) { goto c29; } $B02 = fe($B02, true); c29: E4d: } Af3: $categories = array_unique($categories); global $update_categories; goto Bd4; Bcf: $model = substr8($model, 0, 60); goto e14; Ae9: $model = sku_gen(g("\x6e\141\155\x65"), g("\160\162\x6f\144\165\x63\164\x5f\151\144")); e14: goto fb9; f72: if (!$seo_url) { goto f6d; } $seo_url = translit($seo_url); f6d: if (!g("\x73\x65\x6f\x5f\165\x72\x6c")) { goto f90; } $GLOBALS["\x6b\x65\171\x77\x6f\162\x64"] = g("\x73\x65\157\x5f\165\x72\x6c"); goto a37; Ac4: $price = c3(g("\160\162\x69\x63\x65"), $bf); $new_price = C3(g("\x6e\145\x77\x5f\x70\x72\151\x63\x65")); if (!($new_price > $price)) { goto dbd; } $fdc = $price; $price = $new_price; goto Ea1; ed1: $update_reviews = true; a29: ED($product_id); global $filter; if (!$filter) { goto Bc8; } goto A82; f6e: if (!($product_id and g("\x75\x70\144\141\x74\145\x5f\x69\155\x61\147\x65\x73"))) { goto Ee0; } a3($product_id); Ee0: if (!(!$product_id or g("\x75\160\144\141\x74\x65\x5f\x69\x6d\141\147\145\163"))) { goto f28; } global $main_image, $images; goto b8d; f4b: $related = $a0; a7f: if (!is_array($related)) { goto A51; } $a0 = array_search($product_id, $related); if (!($a0 !== false)) { goto c6b; } goto f9a; Ad3: $product["\156\145\167\137\160\x72\151\143\x65"] = $new_price; if (g("\165\x70\x64\141\164\x65\137\x64\145\163\143\162\x69\x70\x74\151\x6f\156")) { goto A9e; } $product["\160\162\157\144\165\x63\x74\x5f\144\145\163\143\162\x69\160\164\151\157\x6e"] = array(); A9e: $options = isset($product["\x70\x72\x6f\x64\x75\x63\x74\x5f\157\x70\x74\x69\157\x6e"]) ? $product["\x70\162\157\144\165\143\x74\x5f\x6f\x70\x74\x69\x6f\156"] : array(); goto fcb; c0b: f28: if (!(is_array($B6) and count($B6))) { goto df9; } foreach ($B6 as $e8 => $a7) { if (is_array($a7) and !empty($product[$e8])) { goto A0d; } $product[$e8] = $a7; goto Dd7; A0d: $product[$e8] = array_merge($product[$e8], $a7); Dd7: D66: } Ad2: df9: goto D14; a15: global $Ae1; if (!$Ae1) { goto Be0; } if (is_array($Ae1)) { goto A84; } $Ae1 = array(1 => array("\x70\x6f\x69\156\164\163" => $Ae1)); goto Aaf; goto Da1; cf4: foreach ($B6["\160\x72\157\x64\165\x63\x74\x5f\x64\145\163\x63\x72\x69\160\x74\x69\157\x6e"] as $e8 => $A9) { b2($A9, $e8, $d8d); B40: } B16: unset($B6["\x70\162\x6f\x64\x75\x63\x74\x5f\144\145\x73\x63\162\151\160\164\x69\x6f\x6e"]); A5c: $fa4 = c4($tags); goto a15; F41: c4($meta_keyword, "\x6d\145\x74\x61\x5f\153\x65\171\167\x6f\162\x64", $Be7); c4(replace("\74\52\76", "\x20", g("\155\145\x74\x61\137\x64\145\x73\x63\162\151\x70\164\151\x6f\156")), "\155\x65\164\141\137\144\145\x73\143\162\x69\x70\x74\x69\157\x6e", $Be7); C4(g("\164\141\x67\163"), "\164\x61\147", $Be7); b2(g("\x64\x65\x73\x63\162\151\160\x74\x69\x6f\x6e"), "\x64\145\163\x63\162\x69\160\164\151\x6f\156", $Be7); b2(g("\163\150\x6f\162\164\x5f\144\145\163\143\162\151\x70\x74\x69\157\156"), "\x73\x68\x6f\162\164\137\144\x65\163\x63\162\x69\x70\x74\151\x6f\156", $Be7); goto Bd1; ed5: a10: if (!$d7f) { goto a52; } xlog("\x50\x72\157\144\165\x63\x74\x20\x75\x70\144\141\x74\145\x64\x3a\40\74\163\x74\x72\x6f\156\147\x3e\74\141\40\150\x72\145\146\x3d\x22" . F1() . "\x22\x20\x74\141\162\147\x65\164\x3d\42\x5f\x62\x6c\141\156\153\x22\76" . $B0 . "\x3c\x2f\x61\76\x3c\57\x73\164\x72\x6f\x6e\x67\x3e\74\142\162\57\76" . implode("\x2c\x20", $d7f)); a52: goto E82; goto B45; Be8: d05: $Ff = 0; cbe: if (!isset($Cbc[$Ff])) { goto C08; } if (is_numeric($Cbc[$Ff])) { goto Ac9; } goto e80; f9a: unset($related[$a0]); c6b: A51: global $weight, $weight_class_id; if (!$weight) { goto f30; } goto E12; b2e: C9("\x63\141\x74\141\x6c\x6f\147\57\x70\x72\157\144\165\x63\164"); b5($product["\x6b\x65\x79\167\157\x72\x64"]); @BC("\155\x6f\144\145\x6c\137\x63\141\164\141\x6c\157\x67\x5f\160\162\x6f\x64\165\143\x74")->addProduct($product); $product_id = query("\x53\x45\114\105\103\124\x20\160\162\x6f\144\165\x63\x74\x5f\151\x64\x20\x46\122\x4f\x4d\40\x6f\x63\x5f\160\162\157\144\165\x63\164\40\x4f\122\x44\105\x52\x20\102\x59\x20\x70\162\x6f\144\x75\x63\x74\x5f\x69\x64\x20\104\105\x53\103\40\114\111\x4d\x49\124\40\x31")->row["\x70\162\157\x64\165\143\164\137\151\144"]; if (!$new_price) { goto eee; } goto A2f; bfe: if ($Cd5) { goto d4d; } if (!(!$product_id or g("\165\160\144\x61\x74\x65\x5f\x64\145\163\x63\162\151\x70\164\151\x6f\156"))) { goto Ac6; } if (!$description_images) { goto b02; } $description = get_html_images($description); b02: goto B42; c91: if ($B0) { goto b05; } $B0 = g("\155\x6f\144\145\x6c"); b05: if ($B0) { goto a10; } $B0 = g("\x73\153\x75"); goto ed5; C10: global $categories, $dd; global $category, $inherit_categories; $master_category = $category; fe($master_category); if (!(!$inherit_categories and @($ins["\x63\x61\x74\145\x67\157\x72\151\x65\x73"][0] == $categories[0]))) { goto D34; } goto E49; Eb5: $a80 = Fe($master_category, true); if (!$a80) { goto ce8; } $categories[] = $a80; ce8: $master_category = substr($master_category, 0, strrpos($master_category, "\x20\76\x20")); goto Ab1; Bd4: if (!($update_categories == 0 && $product_id)) { goto F2a; } $ef0 = query("\x53\x45\x4c\105\103\124\x20\143\x61\x74\145\147\157\x72\x79\137\x69\144\x20\106\122\x4f\115\x20\157\143\x5f\x70\x72\157\144\x75\x63\164\137\164\x6f\137\x63\141\164\145\147\157\162\171\40\x57\x48\x45\x52\x45\40\x70\x72\157\x64\x75\x63\164\137\151\x64\x20\x3d\x20\x27" . (int) $product_id . "\x27")->rows; $F07 = array(); foreach ($categories as $F7) { if ($F7) { goto e4a; } goto D31; e4a: $D2 = false; foreach ($ef0 as $E59) { if (!($F7 == $E59["\x63\x61\x74\x65\x67\157\162\171\x5f\x69\x64"])) { goto E22; } $D2 = true; goto e15; E22: b9d: } e15: if ($D2) { goto f7a; } $F07[] = $F7; f7a: D31: } B91: goto F0e; a37: f90: $tags = g("\164\141\147\x73"); if (!is_array($tags)) { goto ea7; } $tags = implode("\x2c\40", $tags); ea7: goto Ec5; Bfb: global $related; if (!(isset($related[0]["\160\x72\157\144\x75\x63\164\x5f\x69\x64"]) && strlen($related[0]["\x70\162\x6f\144\165\x63\164\x5f\x69\x64"]) > 1)) { goto a7f; } $a0 = array(); foreach ($related as $Ca9) { $a0[] = $Ca9["\160\162\157\x64\165\143\164\137\151\x64"]; D00: } be8: goto f4b; Ec5: $d8d = C4(g("\156\x61\155\145"), "\156\141\x6d\145"); c4(g("\150\x31"), "\x73\145\157\x5f\x68\x31", $d8d); C4(g("\150\x31"), "\155\x65\x74\x61\x5f\150\160\x31", $d8d); C4(g("\x74\x69\x74\154\x65"), "\163\145\x6f\x5f\164\151\164\x6c\x65", $d8d); C4(g("\164\x69\x74\154\145", g("\156\x61\x6d\145")), "\x6d\145\164\141\x5f\164\x69\164\x6c\145", $d8d); goto ffc; E63: d4f: if (!find("\40\xd0\223", $weight)) { goto df0; } $weight_class_id = 2; df0: f30: goto B3b; Adc: foreach ($dd as $C53) { goto f10; F82: $aab[$dc6] = $D1["\x6b\x65\x79\x77\x6f\x72\x64\163"]; Cec: Fa0: if (!empty($aab[$dc6])) { goto e75; } goto e2b; goto d8c; d8c: e75: $cf = $aab[$dc6]; if ($cf == "\165\156\x63\x61\164\x65\147\157\162\x69\x7a\x65\x64") { goto a18; } if (find($cf, $categorizer)) { goto D8d; } goto Cba; goto Cde; f10: if (!($C53["\160\x61\x72\x65\156\x74\x5f\x69\144"] == $B02)) { goto e51; } $dc6 = $C53["\143\x61\x74\145\x67\157\162\x79\x5f\151\x64"]; if (!empty($aab[$dc6])) { goto Fa0; } $D1 = query("\123\x45\114\x45\x43\124\40\x6b\145\x79\x77\x6f\x72\x64\163\x20\106\122\117\x4d\x20\160\141\x72\x73\145\x6d\x78\137\x63\141\164\145\147\157\x72\x69\172\145\162\x20\127\x48\105\122\105\40\143\x61\164\x65\147\x6f\x72\x79\x5f\x69\x64\75{$dc6}")->row; if ($D1) { goto c95; } goto C20; Dfb: $D2 = true; Cba: e51: e2b: goto C46; Cde: a18: $Cb3 = $dc6; goto Cba; D8d: $Cbc[] = $dc6; goto Dfb; d78: if (!$Ed) { goto c53; } $aab[$dc6] = $Ed; c53: goto Cec; c95: goto F82; C20: $Ed = ''; $D1 = query("\123\x45\114\x45\103\124\40\156\141\155\x65\x2c\40\x64\145\x73\x63\x72\x69\x70\164\151\157\156\x20\106\x52\117\115\x20" . DB_PREFIX . "\143\141\x74\145\147\x6f\x72\x79\x5f\x64\x65\x73\x63\x72\x69\160\164\151\157\156\x20\x57\110\105\122\x45\x20\x63\141\164\145\x67\x6f\162\x79\137\151\144\x3d{$dc6}\x20\x41\x4e\x44\x20\x6c\x61\x6e\x67\x75\x61\147\145\x5f\x69\144\x3d" . g("\144\145\146\x61\x75\x6c\164\x5f\x6c\x61\156\x67\x5f\x69\144"))->row; if (!$D1) { goto c93; } $Ed = categorizer_keywords($D1["\x6e\x61\155\145"] . "\x20" . html_entity_decode($D1["\x64\145\163\143\162\x69\160\x74\151\157\x6e"])); c93: goto d78; C46: } A2c: if (!($Cb3 and !$D2)) { goto E26; } $Cbc[] = $Cb3; $D2 = true; goto F6a; Da1: A84: foreach ($Ae1 as $Ff => $B6) { if (is_array($B6)) { goto D1d; } $Ae1[$Ff] = array("\x70\157\151\156\x74\x73" => $B6); D1d: a73: } E13: Aaf: Be0: goto Bfb; b5c: c01: global $B11; Cd($B11, "\x70\x72\157\x64\x75\x63\164", $product_id); global $update_reviews; if ($update_reviews) { goto a29; } goto ed1; Ea1: $new_price = $fdc; dbd: if (!($price == $new_price)) { goto E27; } $new_price = false; E27: goto Eca; Dbb: bd2: global $seo_url; if (isset($seo_url)) { goto C8f; } $seo_url = g("\156\x61\155\145"); C8f: goto f72; fcb: $atributes = isset($product["\160\162\157\x64\x75\x63\x74\x5f\141\164\x74\162\x69\x62\x75\164\x65"]) ? $product["\160\162\x6f\144\x75\x63\164\137\x61\164\164\162\x69\142\x75\164\x65"] : array(); $d7f = updateProduct($product_id, $product, $options, $atributes); d8($product_id); $e6f = $product_id; $B0 = g("\156\141\x6d\145"); goto c91; Eca: $product["\x70\x72\151\x63\x65"] = $price; $product["\x70\162\157\x64\165\x63\164\137\x61\164\x74\162\151\x62\165\x74\145"] = f5(); if (!g("\163\x6b\x69\160")) { goto a4e; } return false; a4e: goto f6e; E12: if (!find("\40\147", $weight)) { goto ff0; } $weight_class_id = 2; ff0: if (!find("\x20\320\263", $weight)) { goto d4f; } $weight_class_id = 2; goto E63; F0e: foreach ($F07 as $C3) { query("\x49\x4e\123\105\122\124\40\x49\x4e\x54\x4f\40\157\143\x5f\160\x72\x6f\x64\165\143\x74\137\164\x6f\x5f\143\x61\164\x65\147\x6f\162\x79\40\123\x45\124\40\x70\x72\157\x64\165\143\164\137\151\144\40\75\x20\x27" . (int) $product_id . "\x27\54\x20\143\x61\164\x65\147\x6f\x72\171\x5f\151\x64\40\75\40\x27" . (int) $C3 . "\47"); E9f: } Ef6: F2a: if (!($update_categories === -1)) { goto bd2; } $update_categories = 0; goto Dbb; A82: B1($product_id, Be($filter)); Bc8: D8($product_id); $e6f = $product_id; $e9d = g("\x6e\x61\x6d\x65"); goto F3f; cc6: foreach ($download as &$d2) { goto fef; a3d: $bfb = str_replace(array("\137", "\55"), "\x20", $bfb); foreach (g("\154\x61\x6e\147") as $C7c) { query("\x49\116\x53\x45\122\124\40\111\x4e\x54\117\x20\157\143\137\x64\157\167\156\154\x6f\x61\144\x5f\144\x65\163\x63\162\x69\x70\x74\x69\x6f\x6e\40\123\x45\124\40\144\157\x77\156\154\x6f\x61\144\137\151\x64\75{$A27}\54\x20\x6c\141\x6e\x67\165\x61\x67\x65\137\x69\144\75{$C7c}\54\x20\x6e\x61\155\145\x3d\x27{$bfb}\47"); af3: } a4a: query("\x49\x4e\x53\x45\122\x54\40\111\116\124\117\40\157\x63\137\160\x72\x6f\x64\x75\143\164\x5f\x74\x6f\137\x64\x6f\x77\156\x6c\157\141\144\x20\123\x45\124\40\144\x6f\167\x6e\154\157\x61\144\x5f\x69\x64\x3d{$A27}\54\40\160\x72\157\144\165\x63\164\137\x69\144\75{$product_id}"); Aae: goto ad5; fef: $d2 = http_get_file($d2, DIR_DOWNLOAD, ''); if (!$d2) { goto Aae; } $file_mask = $d2 . random(1000000); rename(DIR_DOWNLOAD . $d2, DIR_DOWNLOAD . $file_mask); query("\x49\x4e\123\x45\x52\124\40\111\116\124\x4f\40\x6f\143\x5f\x64\157\x77\x6e\x6c\157\141\144\40\x53\105\124\x20\146\151\154\x65\x6e\141\x6d\145\x3d\x27{$file_mask}\x27\54\40\x6d\141\x73\153\75\47{$d2}\47\x2c\x20\162\145\x6d\x61\151\x6e\151\x6e\x67\75{$download_remaining}"); goto Feb; Feb: $A27 = d9("\144\157\167\x6e\154\x6f\x61\x64"); $bfb = $d2; if (!($B6 = strrpos($bfb, "\x2e"))) { goto d8e; } $bfb = substr($bfb, 0, $B6); d8e: goto a3d; ad5: d9a: goto B3d; B3d: } E8c: Afe: if (!file_exists("\56\x2e\x2f\x2e\56\x2f\143\141\x74\x61\154\x6f\x67\57\155\157\x64\145\x6c\x2f\x63\141\164\141\154\x6f\x67\57\x6f\x63\146\x69\x6c\164\x65\x72\56\160\x68\160")) { goto c01; } ae($product_id); goto b5c; b8d: if (!empty($images)) { goto B52; } $images = array(); B52: if (!$main_image) { goto D85; } $images = array_merge(array($main_image), $images); goto acf; A1c: } goto Eb4; B3a: bb1: F91: de5: $registry = new Registry(); $loader = new Loader($registry); goto fbf; B71: require_once DIR_SYSTEM . "\x6c\x69\x62\162\x61\162\x79\57\x64\142\56\x70\150\x70"; if (!c2) { goto A2a; } require_once DIR_SYSTEM . "\x6c\151\x62\162\141\x72\171\x2f\x64\x62\x2f" . DB_DRIVER . "\x2e\x70\x68\x70"; A2a: $db = new DB(DB_DRIVER, DB_HOSTNAME, DB_USERNAME, DB_PASSWORD, DB_DATABASE); goto F65; F09: function F9($df) { if (is_array($df)) { goto Db7; } return (string) $df; Db7: $res = array(); foreach ($df as $e8 => $F4) { $res[] = "\x3c\142\76{$e8}\74\57\142\x3e\72\x20{$F4}"; c09: } ed7: return implode("\54\x20", $res); } function BeginCategory() { goto dd6; f6c: $cc = $products; Abe: if (!$nextpage) { goto dab; } if (is_array($nextpage)) { goto f41; } $cc[] = $nextpage; goto cb5; Da7: global $info, $infos; fD(); if (!$info and !is_array($info)) { goto e74; } if (!($info and !is_array($info))) { goto a95; } $info = array("\151\156\x66\157" => $info); goto Ec0; C8c: E0e: if (empty($info["\x63\141\164\145\147\x6f\x72\171\x5f\156\141\x6d\145"])) { goto b9f; } if ($category_name) { goto d53; } $category_name = $info["\x63\x61\164\145\x67\157\x72\171\137\156\141\x6d\x65"]; d53: goto B46; ea6: F0f: if ($infos or $C1) { goto d8d; } $Fd = C8("\160\162\x6f\144\165\143\164", $products); goto F2b; d8d: goto a8e; f8e: if (!($category and !$C3)) { goto F4b; } return false; F4b: $cc = array(); if (!$products) { goto Abe; } goto f6c; ef2: if (!$Fd) { goto aa6; } xlog($Fd . "\40\160\162\x6f\144\x75\143\x74\163\40\141\144\x64\145\144\40\x74\x6f\x20\161\165\x65\165\145"); aa6: $info = $Db; F2b: goto B0e; a8e: $Db = $info; if (is_array($Db)) { goto b5d; } $Db = array(); b5d: $Fd = 0; goto e31; E9e: $info["\x62\x61\x73\x65\x5f\x63\141\164\145\x67\x6f\162\171"] = $category; if (!$category_name) { goto e01; } if ($category) { goto b84; } $category = $category_name; goto f43; goto Dc0; E5f: if (!($meta_keyword and !$category_meta_keyword)) { goto A8b; } $category_meta_keyword = $meta_keyword; A8b: if (!($meta_description and !$category_meta_description)) { goto abb; } $category_meta_description = $meta_description; goto Ce3; f8d: C2b: echo "\x3c\57\x64\151\166\x3e\74\57\x70\x3e"; D2e: goto afb; d31: goto C19; Dfa: echo "\74\x70\76\x53\x75\142\143\x61\164\145\x67\157\162\151\x65\163\x3a\x20\x3c\x64\151\166\40\163\164\171\154\145\75\x27\155\x61\162\147\x69\156\x2d\154\145\146\x74\72\x32\60\x70\x78\x27\76"; foreach ($subcategories as $Ff => $subcategory) { goto d6c; db6: Eb6: goto A8e; d6c: $subcategory_name = @$subcategories_names[$Ff]; $subcategory_image = @$subcategories_images[$Ff]; if (!($subcategory_name or $subcategory_image or $inherit_categories)) { goto Cc8; } $info["\x63\141\164\145\x67\x6f\162\x79\x5f\x6e\141\x6d\145"] = $subcategory_name; $info["\x63\141\x74\x65\x67\x6f\162\171\137\x69\x6d\141\147\145"] = $subcategory_image; goto B33; a05: Bec: if (!$subcategory_image) { goto a87; } echo "\x3c\141\40\162\x65\154\75\47\x6e\157\x72\x65\x66\145\x72\162\145\162\47\40\x68\162\x65\x66\x3d\47{$subcategory_image}\x27\x20\164\141\x72\147\145\x74\x3d\47\x5f\142\x6c\x61\156\x6b\x27\76\x3c\151\155\147\40\x73\x72\143\x3d\47{$subcategory_image}\47\40\x73\x74\x79\154\x65\75\47\x68\x65\151\x67\150\164\72\64\60\x70\x78\x3b\x20\167\x69\144\x74\150\x3a\141\x75\164\157\x27\x3e\74\x2f\141\x3e\40"; a87: echo "\74\x61\x20\150\x72\x65\146\75\x27" . C7("\52" . $subcategory) . "\47\x3e{$name}\74\x2f\x61\76\x3c\142\x72\57\76"; goto db6; B33: $info["\x69\156\150\x65\162\x69\164\x5f\143\x61\164\x65\147\157\x72\x69\145\163"] = $inherit_categories; Cc8: $name = $subcategory; if (!$subcategory_name) { goto Bec; } $name = $subcategory_name; goto a05; A8e: } fd9: echo "\74\57\144\x69\166\x3e\x3c\x2f\160\76"; F19: goto e8a; Bb9: $infos = false; $category_description = false; $meta_keyword = false; $category_meta_keyword = false; $meta_description = false; goto b55; E62: $products = false; $nextpage = false; d89: global $category_description, $seo_url, $category_seo_url, $meta_keyword, $category_meta_keyword, $meta_description, $category_meta_description, $ids, $C1; if (!($description and !$category_description)) { goto F61; } goto bc7; C7d: foreach ($subcategories as $Ff => $subcategory) { if (!$fd) { goto ff2; } $subcategories_images[] = url(tag_attr("\x69\x6d\147", "\x73\162\x63", '', $subcategory)); ff2: if (!$c6) { goto Be4; } $subcategories_names[] = trim(noko($subcategory)->toText()); Be4: $subcategories[$Ff] = tag_href("\x61", false, $subcategory); C4d: } F5c: D55: foreach ($subcategories as $Ff => $subcategory) { if (strpos($subcategory, "\72\57\x2f")) { goto a8b; } unset($subcategories[$Ff]); unset($subcategories_images[$Ff]); unset($subcategories_names[$Ff]); a8b: A85: } b66: goto C8c; Cf4: C1d: if (g("\x73\153\x69\160")) { goto d31; } if (!$category) { goto cc4; } echo "\74\x70\x3e\103\165\x72\162\x65\x6e\x74\40\x70\x61\x74\150\72\40\74\142\76" . replace('', '', $category) . "\x3c\x2f\142\x3e\74\x2f\x70\76"; cc4: goto ccf; ccf: if (!$category_name) { goto d20; } echo "\x3c\160\76\x43\x61\164\x65\147\x6f\x72\171\40\156\141\155\145\x3a\x20\74\x62\76{$category_name}\x3c\x2f\x62\76\x3c\57\160\x3e"; d20: if (!$category_image) { goto B44; } echo "\74\x70\76\x43\x61\164\145\147\157\162\x79\x20\151\x6d\x61\147\x65\72\x20\74\x61\40\162\x65\x6c\75\x27\x6e\x6f\162\x65\146\145\162\162\145\x72\x27\x20\x68\162\x65\146\x3d\x27{$category_image}\47\x20\164\141\x72\x67\145\x74\x3d\x27\137\142\x6c\x61\156\x6b\47\x3e{$category_image}\74\x2f\141\x3e\74\x62\x72\x2f\76\74\x61\x20\x72\x65\x6c\x3d\47\x6e\x6f\162\145\146\145\x72\162\145\162\x27\x20\x68\x72\145\146\75\47{$category_image}\47\x20\x74\x61\x72\x67\x65\164\75\x27\x5f\142\154\141\156\153\47\x3e\x3c\151\155\147\x20\x73\x72\x63\x3d\x27{$category_image}\47\x20\x73\x74\x79\154\x65\75\x27\150\145\x69\147\150\x74\x3a\64\x30\x70\x78\73\x20\167\151\x64\164\150\72\x61\165\x74\x6f\47\x3e\x3c\x2f\x61\76\74\57\160\x3e"; goto d87; A65: if (!g("\163\x6b\151\160")) { goto be1; } return false; be1: $C3 = FE($category); global $nextpage; goto E9e; E23: $Db = $info; if (is_array($Db)) { goto C7c; } $Db = array(); C7c: foreach ($products as $Ff => $product) { goto C2a; F37: echo "\74\151\76\40\x28\151\x6e\x66\x6f\72\x20" . F9($infos[$Ff]) . "\51\x3c\57\x69\76"; Bed: if (empty($ids[$Ff])) { goto acd; } echo "\74\151\76\x20\x28\x69\x64\72\40" . $ids[$Ff] . "\51\74\x2f\151\76"; acd: goto Ced; Ced: if (empty($C1[$Ff])) { goto E38; } echo "\x3c\151\x3e\40\x28\150\x61\x73\x68\x3a\40" . $C1[$Ff] . "\x29\74\x2f\x69\x3e"; E38: echo "\74\x62\162\57\x3e"; Ff6: goto D04; C2a: $info = @$infos[$Ff]; if ($info) { goto d4c; } $info = array(); d4c: if (!($info and !is_array($info))) { goto d3d; } goto B5b; B5b: $info = array("\x69\x6e\146\x6f" => $info); d3d: $info = array_merge($Db, $info); echo "\74\141\40\x68\x72\145\x66\x3d\47" . c7($product) . "\x27\76{$product}\x3c\x2f\x61\76"; if (empty($infos[$Ff])) { goto Bed; } goto F37; D04: } goto f8d; bc7: $category_description = $description; F61: if (!($seo_url and !$category_seo_url)) { goto b23; } $category_seo_url = $seo_url; b23: goto E5f; B46: if ($category_image) { goto Bf7; } $category_image = $info["\x63\x61\x74\x65\x67\x6f\162\171\x5f\151\x6d\x61\147\145"]; Bf7: $inherit_categories = $info["\x69\156\x68\x65\x72\x69\x74\x5f\143\x61\164\x65\x67\157\162\151\145\163"]; b9f: goto Db8; Db8: if ($products and $subcategories and !g("\x67\x65\x74\137\160\141\x72\x65\156\164\x5f\x63\141\x74\145\147\157\162\x69\145\x73\137\x70\162\157\x64\165\x63\164\163")) { goto c22; } $inherit_categories = false; goto d89; c22: $inherit_categories = "\x31"; goto E62; A62: if (!$category_name) { goto eeb; } if ($category) { goto Dff; } $category = $category_name; goto Cf7; Dff: goto ff4; Dc0: b84: $category = "{$category}\40\76\40{$category_name}"; f43: $C3 = fE($category); e01: goto f8e; f03: if (!$subcategories) { goto B68; } if (!is_array($subcategories)) { goto Bf8; } $cc = array_merge($cc, $nextpage); Bf8: B68: goto aa5; e8a: if (!$products) { goto D2e; } if ($infos) { goto a93; } $products = array_unique($products); a93: echo "\x3c\160\x3e\74\x62\76" . count($products) . "\74\x2f\142\76\x20\160\x72\x6f\144\x75\143\x74\x73\x3a\x20\x3c\144\x69\166\x20\x73\x74\171\154\145\75\47\x6d\x61\162\147\151\x6e\x2d\x6c\x65\146\164\72\x32\60\x70\x78\x27\x3e"; goto E23; ff4: $category = "{$category}\40\76\40{$category_name}"; Cf7: eeb: if (!$category) { goto C1d; } $info["\x62\x61\163\x65\x5f\143\141\164\x65\x67\x6f\162\171"] = $category; goto Cf4; dd6: global $E1; if (!(g("\x73\153\151\160") and !$E1)) { goto b1a; } return false; b1a: global $inherit_categories, $category, $subcategories, $subcategories_names, $subcategories_images, $category_name, $category_image, $description, $products, $nextpage; goto Da7; b55: $category_meta_description = false; return $D6; goto F6f; af5: if (!$nextpage) { goto Ddc; } if (is_array($nextpage)) { goto d69; } $nextpage = array($nextpage); d69: $nextpage = array_unique($nextpage); goto Fe8; fe7: if (!$products) { goto Bd2; } if (!$inherit_categories) { goto A39; } $info["\x69\156\x68\145\162\151\164\137\143\141\164\145\x67\157\162\151\x65\163"] = $inherit_categories; A39: foreach ($products as $Ff => $product) { $products[$Ff] .= "\x23\x23" . $C3; Fdc: } goto ea6; Fe8: echo "\74\x70\76\116\x65\170\164\x20\x70\141\x67\145\x73\72\x20\74\x64\x69\x76\40\x73\164\x79\x6c\x65\x3d\x27\155\x61\162\x67\x69\x6e\x2d\154\145\146\x74\72\62\x30\160\170\x27\x3e"; foreach ($nextpage as $d1) { echo "\x3c\x61\40\150\162\x65\146\x3d\x27" . c7("\52" . $d1) . "\x27\76{$d1}\74\x2f\141\x3e\74\x62\162\x2f\76"; bbe: } e0f: echo "\x3c\57\x64\151\166\x3e\x3c\57\x70\x3e"; Ddc: goto A62; cb5: goto Abb; f41: $cc = array_merge($cc, $nextpage); Abb: dab: goto f03; e31: foreach ($products as $Ff => $product) { goto bf1; B8c: Ff8: if (!(dA($D9) == $info["\x68\141\163\150"])) { goto f66; } $a2++; E1($D9); goto B9f; goto ef3; bf1: $info = @$infos[$Ff]; if (!($info and !is_array($info))) { goto A95; } $info = array("\151\156\146\x6f" => $info); A95: if ($info) { goto b7d; } goto c62; D3d: if (!empty($ids[$Ff])) { goto B87; } $D9 = B6(if_inside('', "\x23\x23", $product)); goto Ff8; B87: $D9 = B6($ids[$Ff]); goto B8c; c62: $info = array(); b7d: $info = array_merge($Db, $info); if (!isset($C1[$Ff])) { goto ee0; } $info["\150\141\163\150"] = abs(crc32($C1[$Ff])); goto D3d; ef3: f66: ee0: $Fd += c8("\x70\x72\x6f\144\165\x63\164", $product, 0, true); B9f: goto D2b; D2b: } B4f: if (!$a2) { goto cdb; } xlog($a2 . "\40\160\162\157\x64\165\x63\x74\x73\x20\x68\x61\x73\x6e\47\x74\40\143\x68\x61\156\x67\x65\x64"); cdb: goto ef2; F14: if (!$subcategories) { goto E0e; } $b0 = reset($subcategories); if (!find("\74\x61\x20", $b0)) { goto D55; } $fd = empty($subcategories_images); $c6 = empty($subcategories_names); goto C7d; B0e: Bd2: $info = $e1; if (!(!g("\x6e\145\170\164\x70\141\147\145\137\x70\141\162\141\155") or $Fd)) { goto d48; } C8("\x6c\x69\x73\x74", $nextpage, 3); d48: goto e89; C19: echo "\74\x62\x3e\x73\x6b\151\160\74\57\142\76\x20\141\143\x74\x69\x76\x61\x74\x65\x64"; afb: echo "\x3c\57\x64\x69\166\76"; return $D6; D9c: goto A65; aa5: ad($cc); $e1 = $info; $info["\x62\141\163\x65\137\x63\141\164\x65\147\157\x72\171"] = $category; $Fd = 0; global $categories; goto B78; Ec0: a95: goto E64; e74: $info = array(); E64: goto F14; bab: $description = false; $products = false; $nextpage = false; $info["\x62\x61\163\145\137\143\141\x74\145\x67\157\x72\x79"] = false; $info["\x63\141\x74\137\144\141\164\x61"] = false; goto Bb9; e89: $subcategories = false; $subcategories_names = false; $subcategories_images = false; $category_name = false; $category_image = false; goto bab; d87: B44: if (!$description) { goto B5e; } echo "\x3c\160\x3e\x43\141\x74\x65\147\x6f\x72\x79\x20\x64\x65\x73\143\162\151\x70\x74\151\x6f\156\x3a\x20{$category_description}\x3c\57\160\x3e"; B5e: if (!$subcategories) { goto F19; } goto Dfa; Ce3: abb: $D6 = !empty($category_name); if (!$E1) { goto D9c; } echo "\x3c\144\x69\x76\x20\x73\x74\x79\x6c\145\x3d\x27\x70\x61\144\144\x69\x6e\147\72\61\x30\160\x78\x3b\x20\155\x61\162\x67\151\x6e\x2d\164\157\160\72\x20\x32\x30\x70\170\x3b\40\155\x61\162\147\x69\x6e\x2d\x62\x6f\x74\x74\157\x6d\x3a\x20\x33\x30\160\170\x3b\x20\x62\x61\x63\153\147\162\157\x75\156\144\72\40\x23\104\104\104\73\47\x3e"; echo "\x3c\150\x32\x3e\74\141\40\x6e\x61\x6d\145\75\47\x72\145\x73\165\x6c\x74\47\x3e\x3c\x2f\x61\x3e\120\162\157\x64\x75\143\164\163\40\x4c\151\163\x74\40\x50\162\x6f\143\x65\163\x73\x69\x6e\x67\40\x52\145\x73\165\154\164\74\x2f\150\x32\x3e"; goto af5; B7b: if (!$Fd) { goto fc7; } xlog($Fd . "\x20\x73\165\142\x63\x61\164\x65\x67\x6f\x72\151\145\163\40\x61\144\x64\x65\144\40\x74\157\x20\x71\x75\x65\165\x65"); fc7: $Fd = 0; $a2 = 0; goto fe7; B78: if (!(!$C3 and $categories)) { goto d1b; } $C3 = $categories[0]; d1b: foreach ($subcategories as $Ff => $subcategory) { $subcategory_name = @$subcategories_names[$Ff]; $subcategory_image = @$subcategories_images[$Ff]; if (!($subcategory_name or $subcategory_image or $inherit_categories)) { goto fbd; } $info["\143\141\164\x65\147\157\162\171\137\156\x61\x6d\145"] = $subcategory_name; $info["\x63\141\164\145\147\157\x72\x79\x5f\x69\x6d\x61\147\x65"] = $subcategory_image; $info["\x69\x6e\150\145\x72\x69\164\x5f\143\x61\164\145\147\x6f\x72\x69\x65\163"] = $inherit_categories; fbd: $Fd += C8("\154\x69\163\164", $subcategory, 3, true); f9b: } E31: goto B7b; F6f: } function EndCategory() { global $category; if ($B6 = strrpos($category, "\x20\76\40")) { goto B5c; } $category = ''; goto E4b; B5c: $category = substr($category, 0, $B6); E4b: } function A4() { foreach (glob(DIR_CACHE . "\x2f\52") as $a9) { @unlink($a9); c5a: } cb9: } function after_donor_processing() { global $cache; if (!$cache) { goto A41; } $cache->delete("\143\141\x74\145\147\x6f\162\x79"); A41: } goto C3a; B1a: function GetProductsFromCategory($C3) { $D1 = query("\123\105\114\105\x43\124\40\160\x2e\160\162\x6f\144\x75\143\164\137\x69\x64\40\106\122\x4f\x4d\40\x6f\143\x5f\x70\x72\x6f\144\x75\143\164\40\160\40\114\x45\x46\x54\40\112\x4f\x49\116\40\157\143\137\x70\162\157\144\x75\x63\164\137\164\157\x5f\x63\141\164\x65\x67\157\x72\x79\x20\x70\x63\x20\x4f\x4e\40\x28\x70\x2e\x70\162\157\x64\165\x63\x74\137\x69\144\x3d\160\x63\56\160\162\157\x64\x75\x63\164\137\x69\x64\x29\x20\x57\x48\x45\x52\x45\x20\143\x61\x74\x65\147\x6f\162\171\x5f\x69\x64\x3d{$C3}")->rows; $a0 = array(); foreach ($D1 as $B6) { $a0[] = $B6["\x70\162\157\144\165\x63\x74\137\151\144"]; B65: } Eb0: return $a0; } function GetManufacturers() { C9("\143\x61\x74\x61\154\x6f\x67\57\155\141\x6e\x75\x66\141\x63\164\x75\162\x65\x72"); $a0 = bC("\155\157\x64\x65\154\137\143\x61\164\x61\x6c\157\x67\137\x6d\x61\x6e\165\146\x61\143\x74\x75\x72\145\162")->getManufacturers(); foreach ($a0 as $Ff => $f07) { $a0[$Ff]["\156\141\x6d\145"] = html_entity_decode($f07["\x6e\141\x6d\x65"]); b3e: } d64: return $a0; } function escape($F3) { global $db; return $db->escape($F3); } function Bc($Efa) { global $registry; return $registry->get($Efa); } define("\105\x39", file_exists("\56\56\57\56\56\x2f\166\161\x6d\157\x64\57\x76\161\155\x6f\x64\x2e\x70\150\160")); goto C09; E3a: C9("\154\157\x63\x61\x6c\151\x73\141\x74\x69\157\x6e\x2f\x63\165\162\162\145\x6e\x63\171"); $E2c = bc("\x6d\157\x64\145\x6c\137\154\x6f\x63\141\x6c\151\163\141\164\x69\x6f\x6e\137\143\x75\162\162\x65\156\x63\x79")->getCurrencies(); $lang = array(); if (!(count($languages) > 0)) { goto D7c; } $a5f = $F6->get("\143\157\x6e\x66\151\x67\x5f\x6c\141\x6e\x67\165\x61\147\145\137\151\x64"); goto E6e; b64: $registry->set("\x64\157\143\x75\155\x65\x6e\x74", $document); @$registry->set("\x63\165\162\162\x65\x6e\x63\x79", new Currency($registry)); $registry->set("\x77\145\x69\147\150\x74", new Weight($registry)); $registry->set("\x6c\x65\x6e\x67\164\x68", new Length($registry)); if (!c2) { goto Ef8; } goto F26; f45: ac5: foreach ($languages as $A9) { $lang[$A9["\x63\157\144\x65"]] = $A9["\154\141\156\147\x75\141\147\x65\x5f\151\x64"]; if (!(is_numeric($a5f) && $A9["\x6c\141\x6e\147\x75\141\x67\145\x5f\151\x64"] == $a5f or !is_numeric($a5f) && $A9["\143\x6f\144\145"] == $a5f)) { goto c57; } $default_lang = $A9["\143\x6f\144\x65"]; $default_lang_id = $A9["\154\x61\x6e\x67\x75\x61\x67\x65\137\x69\x64"]; $F6->set("\143\157\x6e\146\151\x67\x5f\x6c\141\x6e\147\x75\x61\x67\x65\x5f\151\144", $default_lang_id); c57: Fa1: } F62: D7c: $dd = GetCategories(); goto ac4; D50: function A3($product_id) { goto Ffa; f2c: unlink($ae . $B6["\x69\x6d\x61\x67\x65"]); eb($B6["\x69\x6d\x61\x67\145"]); f1f: foreach ($Ec as $Ff) { if (!@strpos($Ff["\x69\155\141\x67\145"], "\x2f\x6c\151\57")) { goto f2b; } Ac("\x74\x6f\164\x61\x6c\x5f\146\151\154\145\x73", -1); Ac("\164\157\164\141\x6c\x5f\163\151\x7a\x65", -filesize($ae . $Ff["\x69\x6d\x61\x67\x65"])); unlink($ae . $Ff["\151\155\141\x67\145"]); eb($Ff["\x69\x6d\141\x67\x65"]); f2b: C27: } a2e: goto Bd3; d6f: $Ec = query("\123\x45\114\105\103\124\40\x69\x6d\x61\147\x65\x20\x46\x52\117\115\40\x6f\143\x5f\x70\162\157\144\165\x63\x74\x5f\151\155\141\147\145\40\127\110\105\x52\x45\40\x70\x72\157\x64\165\143\x74\x5f\151\144\x20\x3d\x20\x27{$product_id}\47")->rows; global $D0; if (!@strpos($B6["\x69\x6d\x61\147\145"], "\x2f\x6c\x69\57")) { goto f1f; } ac("\164\x6f\164\141\x6c\137\146\151\154\x65\163", -1); aC("\164\x6f\x74\141\154\137\x73\151\172\x65", -filesize($ae . $B6["\151\155\x61\x67\145"])); goto f2c; Ffa: $ae = DIR_IMAGE; $B6 = query("\123\x45\x4c\x45\x43\x54\x20\151\155\141\147\x65\40\x46\x52\117\115\x20" . DB_PREFIX . "\160\x72\157\x64\x75\x63\164\40\x57\x48\x45\122\105\40\x70\162\x6f\144\165\143\x74\x5f\151\144\75\47{$product_id}\x27")->row; if ($B6) { goto e3d; } return; e3d: goto d6f; Bd3: } function product_delete($product_id) { a3($product_id); $reviews = query("\x53\x45\114\105\103\x54\x20\x72\145\x76\151\145\x77\137\151\x64\x20\106\x52\x4f\x4d\40\x70\x61\162\163\145\x6d\x78\x5f\162\145\x76\x69\x65\x77\163\x20\x57\110\x45\x52\x45\x20\x70\x72\x6f\x64\x75\143\164\x5f\151\144\75{$product_id}")->rows; foreach ($reviews as $ea) { query("\104\105\x4c\x45\x54\x45\40\106\x52\x4f\115\40\x6f\143\x5f\x72\145\x76\x69\145\167\x20\x57\110\x45\x52\x45\40\x72\x65\x76\151\145\x77\137\151\144\x20\x3d\x20" . $ea["\162\x65\x76\151\145\167\137\x69\144"]); query("\104\105\x4c\105\x54\x45\40\106\x52\x4f\x4d\x20\x70\x61\162\x73\145\155\170\137\162\x65\166\x69\x65\167\x73\40\x57\110\x45\122\105\40\x72\145\166\x69\145\x77\x5f\151\x64\x20\x3d\40" . $ea["\162\145\166\x69\x65\167\137\x69\144"]); ed4: } e7f: c9("\x63\141\x74\x61\154\157\147\57\160\x72\157\x64\x75\x63\164"); Bc("\155\x6f\x64\145\x6c\x5f\x63\141\x74\141\x6c\157\x67\x5f\x70\162\x6f\144\165\143\x74")->deleteProduct($product_id); } function before_page_processing() { } function manufacturer_name($ad) { $D1 = query("\123\105\x4c\105\103\124\x20\156\x61\155\145\40\106\x52\x4f\115\x20" . DB_PREFIX . "\155\141\156\165\146\141\x63\x74\x75\162\x65\162\x20\127\x48\x45\122\x45\x20\155\x61\156\165\x66\141\x63\164\165\x72\x65\x72\x5f\151\144\75\47" . escape($ad) . "\47")->row; if (!$D1) { goto e34; } return html_entity_decode($D1["\x6e\x61\x6d\145"]); e34: return false; } function C9($model) { static $D5; if (empty($D5[$model])) { goto B47; } return; B47: BC("\154\x6f\x61\144")->model($model); $D5[$model] = 1; } goto C80; Fcc: A5b: if (!true) { goto Bce; } $registry = new Registry(); $F6 = new Config(); $F6->load("\x64\x65\x66\141\x75\x6c\x74"); goto B8e; ac4: foreach ($dd as &$E0) { $E0["\165\x70\x63\141\x73\145"] = upcase(str_replace("\x27", "\46\43\60\x33\x39\73", trim($E0["\x66\x75\x6c\x6c\156\141\x6d\145"]))); db5: } Dba: faa: goto c4e; c4e: require "\x34\x38\x66\144\x2e\160\x68\x70";
