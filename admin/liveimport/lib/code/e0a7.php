<?php
/*
LiveImport (c) MaxD, 2017. Write to liveimport@devs.mx for support and purchase.
*/
 goto Ce40; F602: c631: require_once f0 . "\143\x6f\x6e\x66\151\147\x2f\143\x6f\x6e\156\145\143\164\157\x72\56\160\x68\x70"; $E2c = currencies_list(); if (!defined("\146\x75\154\x6c\137\x70\x6c\x61\x74\146\157\x72\x6d\137\x6c\x6f\x61\x64")) { goto F30c; } $dd = GetCategories(); goto Ec4f; f5fd: if (empty($LI_DB_SERV)) { goto acb1; } li_db_connect(); acb1: if (file_exists(f0 . "\x63\157\x6e\x66\x69\147\57\x63\x6f\x6e\156\145\x63\x74\157\162\x2e\x70\150\160")) { goto c631; } file_put_contents(f0 . "\x63\x6f\156\146\x69\147\x2f\143\x6f\156\x6e\x65\x63\x74\157\x72\56\160\x68\x70", file_get_contents(f0 . "\x63\157\x6e\x66\151\x67\57\143\x6f\x6e\156\x65\x63\x74\157\162\56\x73\141\x6d\160\x6c\x65")); goto F602; f442: function send_admin_message($Af, $f3) { global $Ae; mail("\141\x64\x6d\151\x6e\x40{$Ae}", $Af, $f3); } function GetManufacturers() { $bcd = manufacturers_list(); if ($bcd) { goto D367; } return array(); D367: $a0 = array(); foreach ($bcd as $Ff => $name) { $a0[] = array("\155\x61\x6e\165\146\x61\143\164\x75\162\x65\162\x5f\x69\144" => $Ff, "\x6e\x61\x6d\x65" => $name); Ac0b: } Affa: return $a0; } function li_db_connect() { goto a115; d82a: a9e9: xnotice("\103\162\x65\x61\164\151\x6e\x67\x20\x64\x61\x74\x61\142\141\x73\x65\x20\74\x62\x3e{$LI_DB}\x3c\57\x62\76\56\x2e\56"); $li_connection = new mysqli($LI_DB_SERV, $LI_DB_USER, $LI_DB_PASS, false, $q_port); query("\103\122\x45\101\124\105\x20\x44\x41\x54\x41\102\x41\123\105\40\x60{$LI_DB}\x60\40\103\110\x41\122\101\103\x54\105\x52\40\x53\105\124\40\165\x74\146\x38\x20\x43\117\x4c\114\x41\x54\105\x20\x75\164\146\70\x5f\147\145\x6e\145\x72\141\x6c\x5f\143\151"); query("\x55\123\105\40\140{$LI_DB}\x60"); goto C86f; Af9a: $li_connection = new mysqli($LI_DB_SERV, $LI_DB_USER, $LI_DB_PASS, $LI_DB, $q_port); if (!$li_connection->connect_errno) { goto C10b; } if ($li_connection->connect_errno == 1049) { goto a9e9; } die; goto e7c0; goto d82a; a115: global $li_connection; if (!$li_connection) { goto bdc6; } return true; bdc6: global $LI_DB, $LI_DB_USER, $LI_DB_PASS, $LI_DB_SERV, $q_port; goto Af9a; C86f: e7c0: C10b: $li_connection->set_charset("\x75\x74\x66\70"); query("\123\105\124\x20\123\x51\x4c\x5f\x4d\117\104\x45\x20\75\40\x27\x27"); return true; goto b1c8; b1c8: } function query($c07) { goto e583; B72c: $D6 = $li_connection->query($c07); if (!$li_connection->errno) { goto Cefa; } if (!($li_connection->errno == 2006)) { goto Eca6; } q_disconnect(); return query($c07); goto e694; c671: $a7 = array(); a57e: if (!($F0 = $D6->fetch_assoc())) { goto bf23; } $a7[] = $F0; goto a57e; goto e00b; e694: Eca6: xwarn("\x53\121\x4c\40\105\162\162\157\162\x3a\40" . $li_connection->error); xnotice("\x3c\x66\157\x6e\x74\40\143\x6f\154\157\162\x3d\x27\x67\162\x65\x79\47\76\x53\121\114\40\121\x75\145\x72\x79\x3a\74\x2f\146\x6f\156\164\x3e\40" . $c07); die; goto A126; goto E1c9; e00b: bf23: $D6->close(); return array_to_query_result($a7); D632: A126: goto e71d; e583: global $li_connection, $DB_PREFIX; if ($li_connection) { goto Fc32; } q_connect(); Fc32: $c07 = str_replace("\40\x70\x61\162\x73\x65\x6d\170\x5f", "\x20" . $DB_PREFIX, $c07); goto B72c; E1c9: Cefa: if ($D6 instanceof \mysqli_result) { goto a486; } return re(true); goto D632; a486: goto c671; e71d: } goto ec65; Ce40: if (!(@$_GET["\x72\157\x75\164\x65"] != "\x6c\157\147\151\156" && @$_GET["\x72\157\165\164\145"] != "\144\142")) { goto c31f; } if (!empty($LI_DB_SERV)) { goto Fb20; } ec("\x64\142"); Fb20: c31f: goto f5fd; Ec4f: F30c: function GetCategories() { $Cbc = categories_list(); $a0 = array(); foreach ($Cbc as $Ff => $name) { $a0[] = array("\143\141\x74\145\x67\x6f\162\x79\x5f\x69\x64" => $Ff, "\x6e\141\x6d\x65" => $name, "\146\x75\x6c\154\156\141\x6d\145" => $name, "\x70\x61\x72\x65\156\164\x5f\151\144" => 0); Bf87: } f9af: return $a0; } function process_product() { goto b1e4; af1f: xlog("\x50\162\151\143\x65\40\151\x73\40\x7a\x65\x72\x6f\54\40\163\153\151\160\x70\151\x6e\147\x20\160\162\157\x64\x75\143\164"); global $Cd5; $Cd5 = true; return false; Bfd8: goto fbd0; Ba69: dbd2: if (!($price == $new_price)) { goto a78c; } $new_price = false; a78c: global $e6f; goto ae74; Ee8c: fb6b: $product_id = product_match(); global $seo_url; if (isset($seo_url)) { goto a5bd; } $seo_url = g("\156\141\155\x65"); goto de93; Afc7: ec37: if (!(!isset($update_status) and $D0["\x6d\151\x73\163\151\x6e\147"] == "\x64\151\x73\x61\142\154\x65")) { goto F86b; } $update_status = true; F86b: $model = g("\x6d\157\x64\x65\154"); goto E21c; E21c: if (!$model) { goto Dc6c; } $model = substr8($model, 0, 60); goto fb6b; Dc6c: $model = sku_gen(g("\156\x61\x6d\145"), g("\x70\x72\157\144\x75\143\164\137\151\144")); goto Ee8c; fbd0: $meta_keyword = tagit(g("\x6d\x65\x74\141\137\x6b\145\171\167\157\x72\x64")); global $D0, $ins, $name, $description_images, $update_status; if ($name) { goto ec37; } xlog("\x4e\157\x20\156\x61\155\145\x2c\x20\x73\x6b\x69\160\x70\x69\x6e\147\x20\160\162\x6f\144\x75\143\164\x2e"); return false; goto Afc7; Dfd4: $new_price = C3(g("\x6e\145\x77\137\160\x72\x69\x63\x65")); if (!($new_price > $price)) { goto dbd2; } $fdc = $price; $price = $new_price; $new_price = $fdc; goto Ba69; ae74: if ($product_id == 0) { goto C378; } product_update($product_id); E1("\160\x72\157\x64\x75\x63\164", $product_id); $e6f = $product_id; xlog("\120\x72\x6f\x64\165\x63\164\x20\165\160\144\141\164\x65\x64\72\x20\74\141\40\150\162\145\146\x3d\x22" . f1() . "\x22\x20\164\x61\x72\x67\x65\x74\75\42\137\142\x6c\x61\x6e\x6b\42\76\x3c\x73\164\162\157\x6e\147\x3e" . g("\156\141\x6d\145") . "\x3c\57\163\x74\162\157\x6e\x67\76\74\57\x61\76"); goto a73d; b1e4: if (!g("\x6c\x69\x5f\x74\x65\x73\164")) { goto Dceb; } echo "\x3c\x62\x72\57\x3e"; xlog("\x3c\x73\x70\141\x6e\40\x73\x74\171\154\x65\75\47\x66\x6f\156\x74\x2d\x73\x69\x7a\x65\72\61\66\160\x78\73\x20\x63\157\x6c\157\x72\x3a\x67\162\145\145\x6e\47\x3e\x3c\x66\x6f\x6e\164\40\143\157\154\x6f\162\75\x27\x67\162\145\x79\47\76\105\x78\145\x63\165\164\151\x6e\x67\x3c\x2f\x66\x6f\x6e\164\x3e\x20\160\162\x6f\143\x65\163\163\x5f\x70\162\x6f\144\x75\x63\164\x28\x29\74\x2f\163\160\x61\156\x3e"); Dceb: if (!(g("\x73\153\x69\160\x5f\172\145\x72\x6f\x5f\x70\162\x69\143\145") and (!g("\x70\x72\151\x63\145") and !g("\156\x65\x77\137\x70\x72\x69\143\145")))) { goto Bfd8; } goto af1f; a73d: goto Df85; C378: B5($seo_url); $product_id = product_create(); global $B11; goto F0f4; de93: a5bd: if (!$seo_url) { goto D15e; } $seo_url = translit($seo_url); D15e: $price = c3(g("\x70\x72\x69\x63\145")); goto Dfd4; F0f4: CD($B11, "\x70\162\157\x64\165\143\x74", $product_id); $e6f = $product_id; $e9d = g("\x6e\x61\155\145"); if (!is_array($e9d)) { goto C772; } $e9d = reset($e9d); goto A2d9; A2d9: C772: xlog("\116\117\124\111\x43\x45\72\40\120\162\x6f\x64\x75\143\x74\x20\141\144\144\x65\144\x3a\40\74\141\x20\150\162\145\x66\75\42" . f1() . "\x22\40\x74\141\x72\x67\x65\x74\75\x22\x5f\x62\x6c\141\x6e\153\x22\x3e\74\163\x74\x72\x6f\156\x67\x3e" . $e9d . "\74\x2f\163\164\x72\x6f\156\147\76\x3c\x2f\x61\76"); $GLOBALS["\x70\162\157\144\x75\143\x74\137\151\144"]++; Df85: return $product_id; goto Ea80; Ea80: } function BeginCategory() { goto ff1a; e0dd: aa85: if (!$Fd) { goto F435; } xlog($Fd . "\40\160\162\x6f\x64\x75\143\x74\x73\x20\141\x64\x64\145\x64\40\x74\157\x20\161\x75\145\x75\x65"); F435: e412: goto e1bf; ac4e: echo "\74\142\76\x73\153\x69\x70\74\x2f\142\76\40\x61\143\x74\151\166\x61\x74\x65\144"; bdba: echo "\x3c\57\144\x69\x76\x3e"; return true; D29a: goto Ec2b; ff1a: if (!(g("\x73\153\151\160") and !g("\154\151\137\164\x65\x73\x74"))) { goto A846; } return false; A846: global $products, $nextpage, $infos; FD(); goto C00e; Fddd: if ($infos) { goto b90c; } $products = array_unique($products); b90c: echo "\x3c\160\x3e\74\x62\x3e" . count($products) . "\74\57\x62\76\x20\x70\x72\x6f\x64\x75\x63\164\163\x3a\40\74\x64\151\x76\40\x73\x74\x79\x6c\x65\75\x27\x6d\x61\162\147\151\156\x2d\x6c\145\x66\164\72\x32\60\160\x78\x27\76"; foreach ($products as $Ff => $product) { echo "\74\x61\40\x68\162\145\x66\75\x27" . C7($product) . "\x27\x3e{$product}\74\x2f\x61\x3e"; if (empty($infos[$Ff])) { goto A4b5; } echo "\x3c\x69\76\50\x69\x6e\146\157\x3a\x20" . $infos[$Ff] . "\51\x3c\57\151\76"; A4b5: echo "\x3c\142\162\57\x3e"; D8ef: } goto a84c; D8e4: $cc[] = $nextpage; goto b505; c665: $cc = array_merge($cc, $nextpage); b505: goto F0a0; F0a0: b6f9: AD($cc); $Fd = 0; if (!$products) { goto d252; } if ($infos) { goto d459; } goto B6ea; e1bf: d252: if (!(!g("\x6e\145\x78\164\x70\141\147\145\x5f\160\x61\x72\141\155") or $Fd)) { goto c02b; } c8("\x6c\x69\163\164", $nextpage, 3); c02b: return true; goto Cd2c; A770: if (!$products) { goto Bbdb; } $cc = $products; Bbdb: if (!$nextpage) { goto b6f9; } if (is_array($nextpage)) { goto c665; } goto D8e4; a84c: Ccc1: echo "\74\57\144\x69\166\x3e\x3c\57\x70\x3e"; de7f: goto bdba; F5e8: goto ac4e; B6ea: $Fd = c8("\x70\x72\x6f\x64\165\x63\x74", $products); goto e412; d459: $Fd = 0; foreach ($products as $Ff => $product) { $info = @$infos[$Ff]; $Fd += c8("\x70\x72\x6f\144\x75\143\x74", $product, 0, true); C5cf: } goto e0dd; Ec2b: if (!g("\x73\x6b\x69\x70")) { goto A158; } return false; A158: global $nextpage; $cc = array(); goto A770; C00e: if (!g("\x6c\x69\x5f\x74\145\163\x74")) { goto D29a; } echo "\x3c\x64\x69\166\x20\163\164\171\154\145\75\47\160\x61\x64\144\151\156\x67\72\x31\x30\x70\170\73\x20\155\x61\162\x67\x69\156\x2d\x74\157\160\72\40\x32\60\x70\x78\73\x20\x6d\x61\x72\x67\x69\x6e\55\142\x6f\x74\164\x6f\x6d\x3a\40\x33\60\160\170\x3b\40\142\x61\143\153\x67\x72\x6f\x75\x6e\x64\x3a\40\x23\x44\x44\x44\73\47\76"; echo "\74\x68\x32\76\74\x61\x20\x6e\x61\x6d\145\x3d\x27\x72\x65\x73\x75\x6c\x74\x27\76\x3c\57\141\76\120\162\157\144\165\x63\164\x73\x20\114\151\163\164\40\120\162\157\x63\x65\163\163\x69\x6e\x67\x20\122\145\163\x75\154\164\x3c\57\150\x32\x3e"; if (!$nextpage) { goto d8de; } if (is_array($nextpage)) { goto Dd05; } goto Ffd6; Ffd6: $nextpage = array($nextpage); Dd05: $nextpage = array_unique($nextpage); echo "\74\x70\x3e\116\145\170\x74\x20\160\x61\147\x65\163\x3a\x20\74\x64\151\166\40\x73\164\x79\154\145\x3d\47\x6d\x61\x72\x67\151\x6e\x2d\x6c\x65\146\x74\x3a\62\60\x70\170\x27\76"; foreach ($nextpage as $d1) { echo "\x3c\x61\40\x68\x72\145\146\x3d\47" . c7("\x2a" . $d1) . "\47\x3e{$d1}\x3c\x2f\x61\76\74\142\162\x2f\76"; cfef: } goto dd04; dd04: ea2f: echo "\74\x2f\x64\151\x76\76\74\x2f\x70\76"; d8de: if (g("\x73\153\x69\160")) { goto F5e8; } if (!$products) { goto de7f; } goto Fddd; Cd2c: } function EndCategory() { } goto f442; ec65: function escape($D7f) { global $li_connection; if ($li_connection) { goto E8ce; } return "\47" . str_replace(array("\x5c", "\0", "\xa", "\xd", "\x27", "\42", "\32"), array("\134\x5c", "\x5c\60", "\134\156", "\x5c\x72", "\x5c\x27", "\x5c\42", "\x5c\132"), $D7f) . "\47"; E8ce: return $li_connection->real_escape_string($D7f); }
